(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([[15],{W0HZ:function(e,a,t){"use strict";t.r(a);var r=t("p0pE"),n=t.n(r),s=t("d6i3"),c=t.n(s),i=(t("miYZ"),t("tsqr")),o=t("y0tt"),d=t("mjZG");function p(e){var a=e.page,t=e.logistics_name,r=new FormData;return r.append("page",a),r.append("limit",d["f"]),r.append("find_str",t),Object(o["a"])(`${d["c"]}/index/logistics/page`,{method:"POST",body:r})}function l(e){var a=new FormData;return Object.keys(e).forEach((t,r)=>{a.append(t,e[t]||"")}),Object(o["a"])(`${d["c"]}/index/logistics/add`,{method:"POST",body:a})}function u(e){var a=new FormData;return Object.keys(e).forEach((t,r)=>{a.append(t,e[t]||"")}),Object(o["a"])(`${d["c"]}/index/logistics/update`,{method:"POST",body:a})}function m(e){var a=new FormData;return a.append("id",e),Object(o["a"])(`${d["c"]}/index/logistics/info`,{method:"POST",body:a})}function f(e){var a=new FormData;return a.append("id",e),Object(o["a"])(`${d["c"]}/index/logistics/delete`,{method:"POST",body:a})}function g(e){var a=e.page,t=e.id,r=new FormData;return r.append("page",a),r.append("limit",d["f"]),r.append("id",t),Object(o["a"])(`${d["c"]}/index/driver/driver-car-page`,{method:"POST",body:r})}function y(e){var a=new FormData;return Object.keys(e).forEach((t,r)=>{a.append(t,e[t]||"")}),Object(o["a"])(`${d["c"]}/index/driver/driver-car-add`,{method:"POST",body:a})}function v(e){var a=new FormData;return Object.keys(e).forEach((t,r)=>{a.append(t,e[t]||"")}),Object(o["a"])(`${d["c"]}/index/driver/driver-car-update`,{method:"POST",body:a})}function w(e){var a=new FormData;return a.append("id",e),Object(o["a"])(`${d["c"]}/index/driver/driver-car-delete`,{method:"POST",body:a})}function x(e){var a=new FormData;return a.append(e.filename,e.file),Object(o["a"])(e.action,{method:"POST",body:a})}function h(e,a){var t=new FormData;return t.append("id",e),t.append("car_body_id",a),Object(o["a"])(`${d["c"]}/index/driver/driver-car-remove`,{method:"POST",body:t})}function b(e,a){var t=new FormData;return Object.keys(e).forEach((a,r)=>{t.append(a,e[a]||"")}),t.append("page",a),t.append("limit",d["f"]),Object(o["a"])(`${d["c"]}/index/logistics/order-page`,{method:"POST",body:t})}function O(e){var a=new FormData;return a.append("logistics_id",e),Object(o["a"])(`${d["c"]}/index/logistics/corder-condition`,{method:"POST",body:a})}function k(e,a){var t=new FormData;return Object.keys(e).forEach((a,r)=>{t.append(a,e[a]||"")}),t.append("page",a),t.append("limit",d["f"]),Object(o["a"])(`${d["c"]}/index/logistics/corder-page`,{method:"POST",body:t})}function I(e){var a=new FormData;return a.append("id",e),Object(o["a"])(`${d["c"]}/index/logistics/corder-delete`,{method:"POST",body:a})}function T(e){var a=new FormData;return a.append("id",e),Object(o["a"])(`${d["c"]}/index/logistics/corder-confirm`,{method:"POST",body:a})}function P(e){var a=new FormData;return a.append("id",e),Object(o["a"])(`${d["c"]}/index/logistics/corder-pay`,{method:"POST",body:a})}function j(e){var a=new FormData;return a.append("id",e),Object(o["a"])(`${d["c"]}/index/logistics/corder-invoice`,{method:"POST",body:a})}function F(e){var a=new FormData;return a.append("id",e),Object(o["a"])(`${d["c"]}/index/logistics/corder-detail`,{method:"POST",body:a})}t("Gp7E"),a["default"]={namespace:"logistics",state:{logisticsInfoCurrentTabs:"1",logisticsList:[],logisticsPage:1,logisticsTotal:0,currentLogisticsInfo:{},fleetList:[],fleetPage:1,fleetTotal:0,logisticsHistoryList:[],logisticsHistoryPage:1,logisticsHistoryTotal:0,reconciliationHistoryList:[],reconciliationHistoryPage:0,reconciliationHistoryTotal:0,logisticsCondition:{},detailHistoryList:[],detailHistoryPage:1,detailHistoryTotal:0},subscriptions:{setup(e){e.dispatch;var a=e.history;return a.listen(e=>{e.pathname,e.query})}},effects:{fetchLogisticsList:c.a.mark(function e(a,t){var r,n,s,o,d,l,u,m,f;return c.a.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return r=a.payload,n=r.page,s=void 0===n?1:n,o=r.logistics_name,d=void 0===o?"":o,l=t.call,u=t.put,e.next=4,l(p,{page:s,logistics_name:d});case 4:if(m=e.sent,f=m.data,1!==parseInt(f.code,10)){e.next=11;break}return e.next=9,u({type:"save",payload:{logisticsList:f.data.list,logisticsPage:parseInt(s,10),logisticsTotal:parseInt(f.data.total,10),logistics_name:d}});case 9:e.next=12;break;case 11:i["a"].error(f.msg);case 12:case"end":return e.stop()}},e)}),insertLogistics:c.a.mark(function e(a,t){var r,n,s,o;return c.a.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return r=a.payload.form,n=t.call,e.next=4,n(l,r);case 4:s=e.sent,o=s.data,1===parseInt(o.code,10)?i["a"].success(o.msg):i["a"].error(o.msg);case 7:case"end":return e.stop()}},e)}),updateLogisticsInfo:c.a.mark(function e(a,t){var r,n,s,o;return c.a.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return r=a.payload.form,n=t.call,e.next=4,n(u,r);case 4:s=e.sent,o=s.data,1===parseInt(o.code,10)?i["a"].success(o.msg):i["a"].error(o.msg);case 7:case"end":return e.stop()}},e)}),inquireLogisticsInfoById:c.a.mark(function e(a,t){var r,n,s,o,d;return c.a.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return r=a.payload.id,n=t.call,s=t.put,e.next=4,n(m,r);case 4:if(o=e.sent,d=o.data,1!==parseInt(d.code,10)){e.next=11;break}return e.next=9,s({type:"save",payload:{currentLogisticsInfo:d.data.info}});case 9:e.next=12;break;case 11:i["a"].error(d.msg);case 12:case"end":return e.stop()}},e)}),deleteLogistics:c.a.mark(function e(a,t){var r,n,s,o;return c.a.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return r=a.payload.id,n=t.call,e.next=4,n(f,r);case 4:s=e.sent,o=s.data,1===parseInt(o.code,10)?i["a"].success(o.msg):i["a"].error(o.msg);case 7:case"end":return e.stop()}},e)}),fetchFleetList:c.a.mark(function e(a,t){var r,n,s,o,d,p,l,u;return c.a.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return r=a.payload,n=r.page,s=void 0===n?1:n,o=r.id,d=t.call,p=t.put,e.next=4,d(g,{page:s,id:o});case 4:if(l=e.sent,u=l.data,1!==parseInt(u.code,10)){e.next=11;break}return e.next=9,p({type:"save",payload:{fleetList:u.data.list,fleetPage:parseInt(s,10),fleetTotal:parseInt(u.data.total,10)}});case 9:e.next=12;break;case 11:i["a"].error(u.msg);case 12:case"end":return e.stop()}},e)}),insertFleet:c.a.mark(function e(a,t){var r,n,s,o;return c.a.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return r=a.payload.form,n=t.call,e.next=4,n(y,r);case 4:s=e.sent,o=s.data,1===parseInt(o.code,10)?i["a"].success(o.msg):i["a"].error(o.msg);case 7:case"end":return e.stop()}},e)}),updateFleet:c.a.mark(function e(a,t){var r,n,s,o;return c.a.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return r=a.payload.form,n=t.call,e.next=4,n(v,r);case 4:s=e.sent,o=s.data,1===parseInt(o.code,10)?i["a"].success(o.msg):i["a"].error(o.msg);case 7:case"end":return e.stop()}},e)}),deleteFleet:c.a.mark(function e(a,t){var r,n,s,o;return c.a.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return r=a.payload.id,n=t.call,e.next=4,n(w,r);case 4:s=e.sent,o=s.data,1===parseInt(o.code,10)?i["a"].success(o.msg):i["a"].error(o.msg);case 7:case"end":return e.stop()}},e)}),upLoadExcel:c.a.mark(function e(a,t){var r,n,s,o;return c.a.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return r=a.payload.file,n=t.call,e.next=4,n(x,r);case 4:s=e.sent,o=s.data;try{1===parseInt(o.code,10)?i["a"].success(`\u5bfc\u5165\u6210\u529f ${o.num.success_num} \u6761`):i["a"].error(o.msg)}catch(e){i["a"].error(e)}case 7:case"end":return e.stop()}},e)}),deleteFleetCarBody:c.a.mark(function e(a,t){var r,n,s,o,d,p;return c.a.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return r=a.payload,n=r.id,s=r.car_body_id,o=t.call,e.next=4,o(h,n,s);case 4:d=e.sent,p=d.data,1===parseInt(p.code,10)?i["a"].success(p.msg):i["a"].error(p.msg);case 7:case"end":return e.stop()}},e)}),fetchLogisticsHistory:c.a.mark(function e(a,t){var r,n,s,o,d,p,l,u;return c.a.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return r=a.payload,n=r.page,s=void 0===n?1:n,o=r.form,d=t.call,p=t.put,e.next=4,d(b,o,s);case 4:if(l=e.sent,u=l.data,1!==parseInt(u.code,10)){e.next=11;break}return e.next=9,p({type:"save",payload:{logisticsHistoryList:u.data.list,logisticsHistoryPage:parseInt(s,10),logisticsHistoryTotal:parseInt(u.data.total,10)}});case 9:e.next=12;break;case 11:i["a"].error(u.msg);case 12:case"end":return e.stop()}},e)}),fetchLogisticsCondition:c.a.mark(function e(a,t){var r,n,s,o,d;return c.a.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return r=a.payload.logistics_id,n=t.call,s=t.put,e.next=4,n(O,r);case 4:if(o=e.sent,d=o.data,1!==parseInt(d.code,10)){e.next=11;break}return e.next=9,s({type:"save",payload:{logisticsCondition:d.data}});case 9:e.next=12;break;case 11:i["a"].error(d.msg);case 12:case"end":return e.stop()}},e)}),fetchReconciliationHistory:c.a.mark(function e(a,t){var r,n,s,o,d,p,l,u;return c.a.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return r=a.payload,n=r.form,s=r.page,o=void 0===s?1:s,d=t.call,p=t.put,e.next=4,d(k,n,o);case 4:if(l=e.sent,u=l.data,1!==parseInt(u.code,10)){e.next=11;break}return e.next=9,p({type:"save",payload:{reconciliationHistoryList:u.data.list,reconciliationHistoryPage:parseInt(o,10),reconciliationHistoryTotal:parseInt(u.data.total,10),reconciliationClient:u.data.customer}});case 9:e.next=12;break;case 11:i["a"].error(u.msg);case 12:case"end":return e.stop()}},e)}),deleteReconciliationHistory:c.a.mark(function e(a,t){var r,n,s,o;return c.a.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return r=a.payload.id,n=t.call,t.put,e.next=4,n(I,r);case 4:s=e.sent,o=s.data,1===parseInt(o.code,10)?i["a"].success(o.msg):i["a"].error(o.msg);case 7:case"end":return e.stop()}},e)}),confirmReconciliation:c.a.mark(function e(a,t){var r,n,s,o;return c.a.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return r=a.payload.id,n=t.call,t.put,e.next=4,n(T,r);case 4:s=e.sent,o=s.data,1===parseInt(o.code,10)?i["a"].success(o.msg):i["a"].error(o.msg);case 7:case"end":return e.stop()}},e)}),payment:c.a.mark(function e(a,t){var r,n,s,o;return c.a.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return r=a.payload.id,n=t.call,t.put,e.next=4,n(P,r);case 4:s=e.sent,o=s.data,1===parseInt(o.code,10)?i["a"].success(o.msg):i["a"].error(o.msg);case 7:case"end":return e.stop()}},e)}),billing:c.a.mark(function e(a,t){var r,n,s,o;return c.a.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return r=a.payload.id,n=t.call,t.put,e.next=4,n(j,r);case 4:s=e.sent,o=s.data,1===parseInt(o.code,10)?i["a"].success(o.msg):i["a"].error(o.msg);case 7:case"end":return e.stop()}},e)}),fetchReconciliationDetail:c.a.mark(function e(a,t){var r,n,s,o,d,p,l,u;return c.a.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return r=a.payload,n=r.page,s=void 0===n?1:n,o=r.id,d=t.call,p=t.put,e.next=4,d(F,o);case 4:if(l=e.sent,u=l.data,1!==parseInt(u.code,10)){e.next=11;break}return e.next=9,p({type:"save",payload:{detailHistoryList:u.data.list,detailHistoryPage:parseInt(s,10),detailHistoryTotal:parseInt(u.data.total,10)}});case 9:e.next=12;break;case 11:i["a"].error(u.msg);case 12:case"end":return e.stop()}},e)})},reducers:{save(e,a){return n()({},e,a.payload)}}}}}]);