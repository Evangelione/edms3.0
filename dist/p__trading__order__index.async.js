(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([[17],{"9a0a":function(e,t,a){"use strict";a.r(t);a("14J3");var l,n,i,s,r,c,m,o,d,p,u,E,h=a("BMrR"),v=(a("jCWc"),a("kPKH")),g=(a("Q9mQ"),a("diRs")),S=(a("DZo9"),a("8z0m")),b=(a("+L6B"),a("2/Rp")),y=a("q1tI"),f=a.n(y),I=a("MuoO"),x=a("mjZG"),C=a("gJaX"),N=a("jwVT"),L=(a("2qtc"),a("kLXV")),w=(a("iQDF"),a("+eQT")),q=(a("5NDa"),a("5rEg")),B=a("pVnL"),k=a.n(B),M=(a("y8nQ"),a("Vl3Y")),_=(a("OaEy"),a("2fM7")),O=a("42v0"),F=a.n(O),P=_["a"].Option,R=(l=Object(I["connect"])(e=>{var t=e.order,a=e.loading;return{order:t,loading:a.models.order}}),n=M["a"].create(),l(i=n((s=class extends y["Component"]{constructor(){super(...arguments),this.state={visible:!1,selectionStatus:!1,visibleSiteInfo:!1},this.showModal=(()=>{if(this.state.visible)return!1;this.setState({visible:!0})}),this.hideModal=(e=>{e&&e.stopPropagation(),this.setState({visible:!1})}),this.changeSelectionStatus=(()=>{this.setState({selectionStatus:!this.state.selectionStatus})}),this.inquireSiteInfo=(e=>{console.log(e),this.props.dispatch({type:"order/inquireSiteSelectInfoByCreatePlan",payload:{}}).then(()=>{this.setState({visibleSiteInfo:!0}),console.log(this.props.order.siteSelectInfoByCreatePlan)})})}render(){var e=this.state,t=e.selectionStatus,a=e.visibleSiteInfo,l=this.props,n=l.form.getFieldDecorator,i=l.order.siteSelectInfoByCreatePlan,s=l.children,r=l.loading,c={labelCol:{xs:{span:24},sm:{span:3}},wrapperCol:{xs:{span:24},sm:{span:16}}},m={labelCol:{xs:{span:24},sm:{span:8}},wrapperCol:{xs:{span:24},sm:{span:15}}};return f.a.createElement("div",{onClick:this.showModal},s,f.a.createElement(L["a"],{title:"\u521b\u5efa\u8ba2\u5355",visible:this.state.visible,onCancel:this.hideModal,footer:null,width:840,bodyStyle:{padding:0}},f.a.createElement(M["a"],{style:{padding:"24px 24px 10px"}},a?f.a.createElement(h["a"],null,f.a.createElement(v["a"],{span:3},f.a.createElement("div",{style:{paddingLeft:31}},x["e"])),f.a.createElement(v["a"],{span:15,style:{marginLeft:9}},f.a.createElement("div",{className:F.a["site-select-info"]},f.a.createElement("div",null,f.a.createElement("div",null,f.a.createElement("div",{className:F.a["site-name"]},i.site_name,f.a.createElement("span",{className:F.a["blue-font"],onClick:()=>this.setState({visibleSiteInfo:!1})},"\u66f4\u6539")),f.a.createElement("div",null,i.contact," ",i.contact_phone)),f.a.createElement("div",null,f.a.createElement("div",null,"\u9884\u4ed8\u6b3e\u989d ",f.a.createElement("span",{className:F.a["red-font"]},i.balance,"\u5143")),f.a.createElement("div",null,"\u4fe1\u7528\u989d\u5ea6 ",f.a.createElement("span",{className:F.a["red-font"]},i.credit,"\u5143")))),f.a.createElement("div",null,f.a.createElement("div",{className:F.a["blue-background"]},i.site_type),f.a.createElement("div",null,i.province," ",i.city," ",i.area," ",i.address))))):f.a.createElement(M["a"].Item,k()({label:x["e"]},c),n("balance",{rules:[{required:!0}]})(t?f.a.createElement(_["a"],{placeholder:"\u8bf7\u9009\u62e9\u7ad9\u70b9",autoFocus:!0,defaultOpen:!0,onBlur:this.changeSelectionStatus,onSelect:this.inquireSiteInfo},f.a.createElement(P,{value:1},"123")):f.a.createElement(b["a"],{className:"btn-select",style:{width:"100%",height:41},onClick:this.changeSelectionStatus},"\u8bf7\u9009\u62e9\u7ad9\u70b9"))),f.a.createElement(h["a"],null,f.a.createElement(v["a"],{span:9},f.a.createElement(M["a"].Item,k()({label:"\u8ba1\u5212\u6570\u91cf"},m),n("balance3",{rules:[{required:!0}]})(f.a.createElement(q["a"],{addonAfter:"\u5428",placeholder:"\u8bf7\u8f93\u5165\u8ba1\u5212\u6570\u91cf"})))),f.a.createElement(v["a"],{span:10,style:{width:"46.2%"}},f.a.createElement(M["a"].Item,k()({label:"\u4ea4\u8d27\u65f6\u95f4"},m,{style:{marginLeft:10}}),n("balance1",{rules:[{required:!0}]})(f.a.createElement(w["a"],{suffixIcon:f.a.createElement(x["c"],{className:"time-icon",type:"icon-icon-test8"})}))))),f.a.createElement(h["a"],null,f.a.createElement(v["a"],{span:9},f.a.createElement(M["a"].Item,k()({label:"\u914d\u9001\u65b9\u5f0f"},m),n("balance2",{rules:[{required:!0}],initialValue:"1"})(f.a.createElement(_["a"],null,f.a.createElement(P,{value:"1"},"\u6211\u65b9\u81ea\u63d0"),f.a.createElement(P,{value:"2"},"\u5356\u65b9\u914d\u9001"))))))),f.a.createElement("div",{className:F.a["create-plan-modal-footer"]},f.a.createElement("div",null,f.a.createElement("div",{style:{marginLeft:30}},"\u91c7\u8d2d\u603b\u91cf ",f.a.createElement("span",{className:F.a["red-font"]},"20.000 \u5428")),f.a.createElement("div",{style:{marginRight:20}},f.a.createElement(b["a"],{type:"primary",style:{marginRight:10},loading:r},"\u786e\u8ba4\u521b\u5efa"),f.a.createElement(b["a"],{className:"red-btn"},"\u53d6\u6d88"))))))}},i=s))||i)||i),j=R,V=_["a"].Option,D=(r=Object(I["connect"])(e=>{var t=e.order,a=e.loading;return{order:t,loading:a.models.order}}),c=M["a"].create(),r(m=c((o=class extends y["Component"]{constructor(){super(...arguments),this.state={visible:!1,clientSelectionStatus:!1,visibleClientInfo:!1,siteSelectionStatus:!1,visibleSiteInfo:!1},this.showModal=(()=>{if(this.state.visible)return!1;this.setState({visible:!0})}),this.hideModal=(e=>{e&&e.stopPropagation(),this.setState({visible:!1})}),this.changeClientSelectionStatus=(()=>{this.setState({clientSelectionStatus:!this.state.clientSelectionStatus})}),this.inquireClientInfo=(e=>{this.props.dispatch({type:"order/inquireClientSelectInfoBySalesBilling",payload:{}}).then(()=>{this.setState({visibleClientInfo:!0})})}),this.changeSiteSelectionStatus=(()=>{this.setState({siteSelectionStatus:!this.state.siteSelectionStatus})}),this.inquireSiteInfo=(e=>{this.props.dispatch({type:"order/inquireSiteSelectInfoBySalesBilling",payload:{}}).then(()=>{this.setState({visibleSiteInfo:!0})})})}render(){var e=this.state,t=e.clientSelectionStatus,a=e.visibleClientInfo,l=e.siteSelectionStatus,n=e.visibleSiteInfo,i=this.props,s=i.form.getFieldDecorator,r=i.order,c=r.clientSelectInfoBySalesBilling,m=r.siteSelectInfoBySalesBilling,o=i.children,d=i.loading,p={labelCol:{xs:{span:24},sm:{span:3}},wrapperCol:{xs:{span:24},sm:{span:16}}},u={labelCol:{xs:{span:24},sm:{span:8}},wrapperCol:{xs:{span:24},sm:{span:15}}};return f.a.createElement("div",{onClick:this.showModal,style:{display:"inline-block"}},o,f.a.createElement(L["a"],{title:"\u9500\u552e\u5f00\u5355",visible:this.state.visible,onCancel:this.hideModal,footer:null,width:840,bodyStyle:{padding:0}},f.a.createElement(M["a"],{style:{padding:"24px 24px 10px"}},a?f.a.createElement(h["a"],null,f.a.createElement(v["a"],{span:3},f.a.createElement("div",{style:{paddingLeft:31}},x["a"])),f.a.createElement(v["a"],{span:15,style:{marginLeft:9}},f.a.createElement("div",{className:F.a["site-select-info"]},f.a.createElement("div",null,f.a.createElement("div",null,f.a.createElement("div",{className:F.a["site-name"]},c.site_name,f.a.createElement("span",{className:F.a["blue-font"],onClick:()=>this.setState({visibleClientInfo:!1})},"\u66f4\u6539")),f.a.createElement("div",null,c.contact," ",c.contact_phone)),f.a.createElement("div",null,f.a.createElement("div",null,"\u9884\u4ed8\u6b3e\u989d ",f.a.createElement("span",{className:F.a["red-font"]},c.balance,"\u5143")),f.a.createElement("div",null,"\u4fe1\u7528\u989d\u5ea6 ",f.a.createElement("span",{className:F.a["red-font"]},c.credit,"\u5143"))))))):f.a.createElement(M["a"].Item,k()({label:x["a"]},p),s("balance",{rules:[{required:!0}]})(t?f.a.createElement(_["a"],{placeholder:"\u8bf7\u9009\u62e9\u5ba2\u6237",autoFocus:!0,defaultOpen:!0,onBlur:this.changeClientSelectionStatus,onSelect:this.inquireClientInfo},f.a.createElement(V,{value:1},"123")):f.a.createElement(b["a"],{className:"btn-select",style:{width:"100%",height:41},onClick:this.changeClientSelectionStatus},"\u8bf7\u9009\u62e9\u5ba2\u6237"))),f.a.createElement(h["a"],{style:{marginTop:30}},f.a.createElement(v["a"],{span:9},f.a.createElement(M["a"].Item,k()({label:"\u6536\u6b3e\u65b9\u5f0f"},u),s("balance3",{initialValue:1})(f.a.createElement(_["a"],null,f.a.createElement(V,{value:1},"\u9884\u4ed8\u6b3e"))))),f.a.createElement(v["a"],{span:10,style:{width:"43.4%"}},f.a.createElement(M["a"].Item,k()({label:"\u914d\u9001\u65b9\u5f0f"},u,{style:{marginLeft:10}}),s("balance1",{rules:[{required:!0}]})(f.a.createElement(_["a"],{placeholder:"\u8bf7\u9009\u62e9\u914d\u9001\u65b9\u5f0f"},f.a.createElement(V,{value:1},"\u6211\u65b9\u914d\u9001"),f.a.createElement(V,{value:2},"\u5356\u65b9\u914d\u9001"),f.a.createElement(V,{value:3},"\u4e70\u65b9\u81ea\u63d0")))))),f.a.createElement(h["a"],null,f.a.createElement(v["a"],{span:9},f.a.createElement(M["a"].Item,k()({label:"\u9500\u552e\u4ef7\u683c"},u),s("balance2",{rules:[{required:!0}]})(f.a.createElement(q["a"],{addonAfter:"\u5143/\u5428",placeholder:"\u8bf7\u8f93\u5165\u91d1\u989d"})))),f.a.createElement(v["a"],{span:10,style:{width:"43.4%"}},f.a.createElement(M["a"].Item,k()({label:"\u989d\u5916\u8d39\u7528"},u,{style:{marginLeft:10}}),s("balance15")(f.a.createElement(q["a"],{addonAfter:"\u5143",placeholder:"\u8bf7\u8f93\u5165\u91d1\u989d"}))))),f.a.createElement("div",{className:"modal-line",style:{width:828,marginLeft:"-12px",marginBottom:24}}),n?f.a.createElement(h["a"],null,f.a.createElement(v["a"],{span:3},f.a.createElement("div",{style:{paddingLeft:31}},x["e"])),f.a.createElement(v["a"],{span:15,style:{marginLeft:9}},f.a.createElement("div",{className:F.a["site-select-info"]},f.a.createElement("div",null,f.a.createElement("div",null,f.a.createElement("div",{className:F.a["site-name"]},m.site_name,f.a.createElement("span",{className:F.a["blue-font"],onClick:()=>this.setState({visibleSiteInfo:!1})},"\u66f4\u6539")),f.a.createElement("div",null,m.contact," ",m.contact_phone))),f.a.createElement("div",null,f.a.createElement("div",{className:F.a["blue-background"]},m.site_type),f.a.createElement("div",null,m.province," ",m.city," ",m.area," ",m.address))))):f.a.createElement(M["a"].Item,k()({label:x["e"]},p),s("ba1l4ance",{rules:[{required:!0}]})(l?f.a.createElement(_["a"],{placeholder:"\u8bf7\u9009\u62e9\u7ad9\u70b9",autoFocus:!0,defaultOpen:!0,onBlur:this.changeSiteSelectionStatus,onSelect:this.inquireSiteInfo},f.a.createElement(V,{value:1},"123")):f.a.createElement(b["a"],{className:"btn-select",style:{width:"100%",height:41},onClick:this.changeSiteSelectionStatus},"\u8bf7\u9009\u62e9\u7ad9\u70b9"))),f.a.createElement(h["a"],null,f.a.createElement(v["a"],{span:9},f.a.createElement(M["a"].Item,k()({label:"\u8ba1\u5212\u6570\u91cf"},u),s("ba123lance3",{initialValue:1})(f.a.createElement(q["a"],{addonAfter:"\u5428",placeholder:"\u8bf7\u8f93\u5165\u8ba1\u5212\u6570\u91cf"})))),f.a.createElement(v["a"],{span:10,style:{width:"43.4%"}},f.a.createElement(M["a"].Item,k()({label:"\u4ea4\u8d27\u65f6\u95f4"},u,{style:{marginLeft:10}}),s("bal51ance1",{rules:[{required:!0}]})(f.a.createElement(w["a"],{suffixIcon:f.a.createElement(x["c"],{className:"time-icon",type:"icon-icon-test8"})})))))),f.a.createElement("div",{className:F.a["create-plan-modal-footer"]},f.a.createElement("div",null,f.a.createElement("div",null,f.a.createElement("div",{style:{marginLeft:30}},"\u9500\u552e\u603b\u91cf ",f.a.createElement("span",{className:F.a["red-font"]},"20.000 \u5428")),f.a.createElement("div",{style:{marginLeft:30}},"\u9500\u552e\u603b\u989d ",f.a.createElement("span",{className:F.a["red-font"]},"90,000.00 \u5143"))),f.a.createElement("div",{style:{marginRight:20}},f.a.createElement(b["a"],{type:"primary",style:{marginRight:10},loading:d},"\u786e\u8ba4\u5f00\u5355"),f.a.createElement(b["a"],{className:"red-btn"},"\u53d6\u6d88"))))))}},m=o))||m)||m),A=D,Q=(d=Object(I["connect"])(e=>{var t=e.order,a=e.loading;return{order:t,loading:a.models.order}}),p=M["a"].create(),d(u=p((E=class extends y["Component"]{constructor(){super(...arguments),this.state={visible:!1,selectionStatus:!1,visibleLogisticsInfo:!1},this.showModal=(()=>{if(this.state.visible)return!1;this.props.dispatch({type:"order/inquireSiteInfoByLogisticsScheduling",payload:{}}),this.setState({visible:!0})}),this.hideModal=(e=>{e&&e.stopPropagation(),this.setState({visible:!1})})}render(){var e=this.state.visible,t=this.props,a=t.children,l=t.order.siteInfoByLogisticsScheduling;t.form.getFieldDecorator;return f.a.createElement("div",{onClick:this.showModal},a,f.a.createElement(L["a"],{title:"\u7269\u6d41\u8c03\u5ea6",visible:e,onCancel:this.hideModal,footer:null,width:840,bodyStyle:{padding:0}},f.a.createElement("div",{style:{padding:"24px 24px 10px"}},f.a.createElement(h["a"],null,f.a.createElement(v["a"],{span:3},f.a.createElement("div",{style:{paddingLeft:31}},x["e"])),f.a.createElement(v["a"],{span:15,style:{marginLeft:9}},f.a.createElement("div",{className:F.a["site-select-info"]},f.a.createElement("div",null,f.a.createElement("div",null,f.a.createElement("div",{className:F.a["site-name"]},l.site_name),f.a.createElement("div",null,l.contact," ",l.contact_phone))),f.a.createElement("div",null,f.a.createElement("div",{className:F.a["blue-background"]},l.site_type),f.a.createElement("div",null,l.province," ",l.city," ",l.area," ",l.address))))),f.a.createElement(h["a"],null,f.a.createElement(v["a"],{span:9,style:{display:"flex",alignItems:"center"}},f.a.createElement(v["a"],{span:8},"\u8ba1\u5212\u6570\u91cf"),f.a.createElement(v["a"],{span:15},f.a.createElement(q["a"],{value:l.plan_num}))),f.a.createElement(v["a"],{span:10,style:{display:"flex",alignItems:"center"}},f.a.createElement(v["a"],{span:8},"\u4ea4\u8d27\u65f6\u95f4"),f.a.createElement(v["a"],{span:15},f.a.createElement(q["a"],{value:l.plan_time})))),f.a.createElement("div",{className:"modal-line",style:{width:828,marginLeft:"-12px",marginBottom:24,marginTop:24}}),f.a.createElement(M["a"],null))))}},u=E))||u)||u),J=Q;class T extends y["Component"]{constructor(){super(...arguments),this.state={modal:"SalesBilling"}}render(){var e=this.state.modal;return f.a.createElement("div",{style:{display:"inline-block"}},"CreatePlan"===e?f.a.createElement(j,null,f.a.createElement(b["a"],{type:"primary"},"\u65b0\u589e\u8ba2\u5355")):"SalesBilling"===e?f.a.createElement(A,null,f.a.createElement(b["a"],{type:"primary"},"\u65b0\u589e\u8ba2\u5355")):"LogisticsScheduling"===e?f.a.createElement(J,null,f.a.createElement(b["a"],{type:"primary"},"\u65b0\u589e\u8ba2\u5355")):null)}}var X,Z,z,G=T,H=(X=Object(I["connect"])(e=>{var t=e.loading;return{loading:t.models.order}}),X((z=class extends y["Component"]{constructor(){super(...arguments),this.upLoadExcel=(e=>{this.props.dispatch({type:"order/upLoadExcel",payload:{file:e}})})}render(){var e=this.props.loading,t=f.a.createElement("div",null,"\u5bfc\u5165\u4fe1\u606f"),a=f.a.createElement(f.a.Fragment,null,f.a.createElement("div",null,f.a.createElement("p",null,"1. \u4e0a\u4f20\u4fe1\u606f\u6587\u4ef6\u65f6\uff0c\u8bf7\u4f7f\u7528excel\u6587\u4ef6\uff0c\u652f\u6301\u6587\u4ef6\u683c\u5f0f\u4e3a.xls\u6216\u8005.xlsx\uff1b"),f.a.createElement("p",null,"2. \u4fe1\u606f\u6587\u4ef6\u5185\u5bb9\uff0c\u8bf7\u4e25\u683c\u6309\u7167\u6a21\u677f\u6837\u5f0f\u586b\u5199\uff0c\u7ea2\u8272\u7684\u5b57\u6bb5\u5fc5\u987b\u586b\u5199\uff0c ",f.a.createElement("br",null),"\u5176\u4f59\u5b57\u6bb5\u82e5\u6ca1\u6709\u5219\u53ef\u4ee5\u4e0d\u586b\uff1b"),f.a.createElement("p",null,"3. \u5bfc\u5165\u4fe1\u606f\u65f6\uff0c\u5982\u679c\u548c\u5df2\u6709\u7684\u4fe1\u606f\u76f8\u540c\uff0c\u5219\u5bfc\u5165\u540e\u81ea\u52a8\u66f4\u65b0\u5176\u4fe1\u606f\uff1b")),f.a.createElement("div",{style:{textAlign:"center"}},f.a.createElement(b["a"],{className:"light-btn"},"\u4e0b\u8f7d\u4fe1\u606f\u6a21\u7248"),f.a.createElement(S["a"],{accept:".xls,.xlsx",name:"excel",action:`${x["b"]}/index/order/order-import`,customRequest:this.upLoadExcel,showUploadList:!1},f.a.createElement(b["a"],{className:"light-btn",style:{marginLeft:20},loading:e},"\u4e0a\u4f20\u4fe1\u606f\u6587\u4ef6"))));return f.a.createElement("div",null,f.a.createElement("div",{className:"toolbar"},f.a.createElement(G,null),f.a.createElement(g["a"],{placement:"bottomLeft",title:t,content:a,trigger:"click"},f.a.createElement(b["a"],{type:"primary",style:{marginLeft:10}},"\u5bfc\u5165\u4fe1\u606f"))),f.a.createElement("div",{style:{padding:24}},f.a.createElement("div",null,x["h"].map((e,t)=>{return f.a.createElement("div",{key:t,className:F.a["order-type"]},e.label)})),f.a.createElement(h["a"],{gutter:16},f.a.createElement(v["a"],{span:12},f.a.createElement(C["default"],null)),f.a.createElement(v["a"],{span:12},f.a.createElement(N["default"],null)))))}},Z=z))||Z);t["default"]=H}}]);