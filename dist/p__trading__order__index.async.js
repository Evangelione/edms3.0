(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([[17],{"9a0a":function(e,t,a){"use strict";a.r(t);a("14J3");var i,l,n,s,r=a("BMrR"),c=(a("jCWc"),a("kPKH")),o=(a("Q9mQ"),a("diRs")),m=(a("DZo9"),a("8z0m")),d=(a("+L6B"),a("2/Rp")),u=a("q1tI"),S=a.n(u),h=a("MuoO"),p=a("mjZG"),E=a("gJaX"),f=a("jwVT"),v=a("42v0"),y=a.n(v),b=(a("2qtc"),a("kLXV")),I=(a("iQDF"),a("+eQT")),g=(a("5NDa"),a("5rEg")),C=a("pVnL"),N=a.n(C),_=a("MVZn"),x=a.n(_),F=(a("y8nQ"),a("Vl3Y")),k=(a("OaEy"),a("2fM7"));function w(e,t){var a=parseFloat(e).toFixed(t+1);return a.substr(0,a.length-1)}var L,q,B,Y,M,D,O,V=k["a"].Option,A=(i=Object(h["connect"])(e=>{var t=e.order,a=e.loading;return{order:t,loading:a.models.order}}),l=F["a"].create(),i(n=l((s=class extends u["Component"]{constructor(){super(...arguments),this.state={visible:!1,clientSelectionStatus:!1,visibleClientInfo:!1,siteSelectionStatus:!1,visibleSiteInfo:!1,siteSelectionStatus2:!1,visibleSiteInfo2:!1,flag:!0,currentClientInfo:{},currentSiteInfo:{},currentSiteInfo2:{},currentSiteNum:1},this.changeType=(e=>{"2"===e?this.setState({flag:!1}):this.setState({flag:!0})}),this.getItemsValue=(()=>{var e=!1;return this.props.form.validateFieldsAndScroll((t,a)=>{a.customer_id=this.state.currentClientInfo.id,a.site1_id=this.state.currentSiteInfo.id,this.state.currentSiteInfo2.id&&(a.site2_id=this.state.currentSiteInfo2.id),console.log(a),t?e=!1:(a.site1_time=a.site1_time.format("YYYY-MM-DD"),this.state.currentSiteInfo2.id&&(a.site2_time=a.site2_time.format("YYYY-MM-DD")),e=a)}),e}),this.deleteClientSelect=(()=>{this.setState({visible:!1,clientSelectionStatus:!1,visibleClientInfo:!1,siteSelectionStatus:!1,visibleSiteInfo:!1,siteSelectionStatus2:!1,visibleSiteInfo2:!1,flag:!0,currentClientInfo:{},currentSiteInfo:{},currentSiteInfo2:{},currentSiteNum:1}),this.props.dispatch({type:"order/save",payload:{siteSelectByCreatePlan:[]}})}),this.changeClientSelectionStatus=(()=>{this.setState({clientSelectionStatus:!this.state.clientSelectionStatus})}),this.changeSiteSelectionStatus=(()=>{this.setState({siteSelectionStatus:!this.state.siteSelectionStatus})}),this.changeSiteSelectionStatus2=(()=>{this.setState({siteSelectionStatus2:!this.state.siteSelectionStatus2})}),this.setClientInfo=((e,t)=>{this.setState({currentClientInfo:x()({},t.props)}),this.props.dispatch({type:"order/inquireSiteSelectInfoByCreatePlan",payload:{id:e}}).then(()=>{this.setState({visibleClientInfo:!0})})}),this.setSiteInfo=((e,t)=>{this.setState({currentSiteInfo:x()({},t.props)}),this.setState({visibleSiteInfo:!0})}),this.setSiteInfo2=((e,t)=>{this.setState({currentSiteInfo2:x()({},t.props)}),this.setState({visibleSiteInfo2:!0})}),this.parseNumber=((e,t,a)=>{var i=a.target.value;if(""===i)return!1;isNaN(i)&&(i=0);var l=w(i,t);this.props.form.setFieldsValue({[e]:l})}),this._addSiteField=(()=>{if(this.props.extraSite>3)return!1;this.setState({currentSiteNum:this.state.currentSiteNum+1}),this.props.addSiteField()}),this._removeSiteField=(()=>{if(this.state.extraSite<0)return!1;this.setState({currentSiteNum:this.state.currentSiteNum-1}),this.props.removeSiteField()})}render(){var e=this.state,t=e.clientSelectionStatus,a=e.visibleClientInfo,i=e.siteSelectionStatus,l=e.visibleSiteInfo,n=e.siteSelectionStatus2,s=e.visibleSiteInfo2,o=e.flag,m=e.currentClientInfo,u=e.currentSiteInfo,h=e.currentSiteInfo2,E=e.currentSiteNum,f=this.props,v=f.form.getFieldDecorator,b=f.order,C=b.clientSelectByCreatePlan,_=b.siteSelectByCreatePlan,x=f.extraSite,w=f.removeClientField,L={labelCol:{xs:{span:24},sm:{span:3}},wrapperCol:{xs:{span:24},sm:{span:16}}},q={labelCol:{xs:{span:24},sm:{span:8}},wrapperCol:{xs:{span:24},sm:{span:15}}};return S.a.createElement(S.a.Fragment,null,S.a.createElement("div",{className:"modal-line",style:{width:828,marginLeft:"-12px",marginBottom:24}}),S.a.createElement(r["a"],{style:{position:"relative"}},S.a.createElement(p["d"],{type:"icon-icon-test109",className:"delete-icon",onClick:w}),a?S.a.createElement(r["a"],{style:{marginBottom:25}},S.a.createElement(c["a"],{span:3},S.a.createElement("div",{style:{paddingLeft:31}},p["a"])),S.a.createElement(c["a"],{span:15,style:{marginLeft:9}},S.a.createElement("div",{className:y.a["site-select-info"]},S.a.createElement("div",null,S.a.createElement("div",null,S.a.createElement("div",{className:y.a["site-name"]},m.company_name,S.a.createElement("span",{className:y.a["blue-font"],onClick:()=>this.setState({visibleClientInfo:!1})},"\u66f4\u6539"),S.a.createElement("span",{className:y.a["delete-font"],onClick:this.deleteClientSelect},"\u5220\u9664")),S.a.createElement("div",null,m.contact," ",m.contact_phone)),S.a.createElement("div",null,S.a.createElement("div",null,"\u9884\u4ed8\u6b3e\u989d ",S.a.createElement("span",{className:y.a["red-font"]},m.balance,"\u5143")),S.a.createElement("div",null,"\u4fe1\u7528\u989d\u5ea6 ",S.a.createElement("span",{className:y.a["red-font"]},m.credit,"\u5143"))))))):S.a.createElement(F["a"].Item,N()({label:p["a"]},L),v("customer_id",{rules:[{required:!0}]})(t?S.a.createElement(k["a"],{placeholder:"\u8bf7\u9009\u62e9\u5ba2\u6237",autoFocus:!0,defaultOpen:!0,onBlur:this.changeClientSelectionStatus,onSelect:this.setClientInfo},C.map(e=>{return S.a.createElement(V,N()({value:e.id,key:e.id},e),e.company_name)})):S.a.createElement(d["a"],{className:"btn-select",style:{width:"100%",height:41},onClick:this.changeClientSelectionStatus},"\u8bf7\u9009\u62e9\u5ba2\u6237")))),S.a.createElement(r["a"],null,S.a.createElement(c["a"],{span:9},S.a.createElement(F["a"].Item,N()({label:"\u6536\u6b3e\u65b9\u5f0f"},q),v("payment_type",{initialValue:"1"})(S.a.createElement(k["a"],null,S.a.createElement(V,{value:"1"},"\u9884\u4ed8\u6b3e"),S.a.createElement(V,{value:"2"},"\u4fe1\u7528\u989d"))))),S.a.createElement(c["a"],{span:10,style:{width:"46.2%"}},S.a.createElement(F["a"].Item,N()({label:"\u914d\u9001\u65b9\u5f0f"},q,{style:{marginLeft:10}}),v("delivery_type",{rules:[{required:!0}],initialValue:"1"})(S.a.createElement(k["a"],{placeholder:"\u8bf7\u9009\u62e9\u914d\u9001\u65b9\u5f0f",onChange:this.changeType},S.a.createElement(V,{value:"1"},"\u5356\u65b9\u914d\u9001"),S.a.createElement(V,{value:"2"},"\u4e70\u65b9\u81ea\u63d0"),S.a.createElement(V,{value:"3"},"\u6211\u65b9\u914d\u9001")))))),S.a.createElement(r["a"],null,S.a.createElement(c["a"],{span:9},S.a.createElement(F["a"].Item,N()({label:"\u9500\u552e\u4ef7\u683c"},q),v("price",{rules:[{required:!0}]})(S.a.createElement(g["a"],{placeholder:"\u8bf7\u8f93\u5165\u91d1\u989d",onBlur:this.parseNumber.bind(null,"price",2),addonAfter:"\u5143/\u5428"})))),S.a.createElement(c["a"],{span:10,style:{width:"46.2%"}},S.a.createElement(F["a"].Item,N()({label:"\u989d\u5916\u8d39\u7528"},q,{style:{marginLeft:10}}),v("extra_fee",{rules:[{required:!0}]})(S.a.createElement(g["a"],{placeholder:"\u8bf7\u8f93\u5165\u91d1\u989d",onBlur:this.parseNumber.bind(null,"extra_fee",2),addonAfter:"\u5143"}))))),S.a.createElement("div",{className:"modal-line",style:{width:828,marginLeft:"-12px",marginBottom:24}}),S.a.createElement(S.a.Fragment,null,S.a.createElement(r["a"],{style:{position:"relative"}},x<3?S.a.createElement(p["d"],{type:"icon-icon-test110",className:"add-icon",onClick:this._addSiteField}):null,l?S.a.createElement(r["a"],null,S.a.createElement(c["a"],{span:3},S.a.createElement("div",{style:{paddingLeft:31}},p["f"])),S.a.createElement(c["a"],{span:15,style:{marginLeft:9}},S.a.createElement("div",{className:y.a["site-select-info"]},S.a.createElement("div",null,S.a.createElement("div",null,S.a.createElement("div",{className:y.a["site-name"]},u.site_name,S.a.createElement("span",{className:y.a["blue-font"],onClick:()=>this.setState({visibleSiteInfo:!1})},"\u66f4\u6539"),S.a.createElement("span",{className:y.a["delete-font"],onClick:()=>this.setState({visibleSiteInfo:!1,siteSelectionStatus:!1,currentSiteInfo:{}})},"\u5220\u9664")),S.a.createElement("div",null,u.contact," ",u.contact_phone))),S.a.createElement("div",null,S.a.createElement("div",{className:y.a["blue-background"]},p["m"][u.site_type-1]),S.a.createElement("div",null,u.province," ",u.city," ",u.area," ",u.site_address))))):S.a.createElement(F["a"].Item,N()({label:p["f"]},L),v("site1_id",{rules:[{required:o}]})(i?S.a.createElement(k["a"],{placeholder:"\u8bf7\u9009\u62e9\u7ad9\u70b9",autoFocus:!0,defaultOpen:!0,onBlur:this.changeSiteSelectionStatus,onSelect:this.setSiteInfo},_.map(e=>{return S.a.createElement(V,N()({value:e.id,key:e.id},e),e.site_name)})):S.a.createElement(d["a"],{className:"btn-select",style:{width:"100%",height:41},onClick:this.changeSiteSelectionStatus},"\u8bf7\u9009\u62e9\u7ad9\u70b9")))),S.a.createElement(r["a"],null,S.a.createElement(c["a"],{span:9},S.a.createElement(F["a"].Item,N()({label:"\u8ba1\u5212\u6570\u91cf"},q),v("site1_quantity",{rules:[{required:o}]})(S.a.createElement(g["a"],{placeholder:"\u8bf7\u8f93\u5165\u6570\u91cf",onBlur:this.parseNumber.bind(null,"site1_quantity",3),addonAfter:"\u5428"})))),S.a.createElement(c["a"],{span:10,style:{width:"46.2%"}},S.a.createElement(F["a"].Item,N()({label:"\u5378\u8d27\u65f6\u95f4"},q,{style:{marginLeft:10}}),v("site1_time")(S.a.createElement(I["a"],{suffixIcon:S.a.createElement(p["d"],{className:"time-icon",type:"icon-icon-test8"}),style:{width:"100%"}})))))),E>1?S.a.createElement(S.a.Fragment,null,S.a.createElement(r["a"],{style:{position:"relative"}},x<3?S.a.createElement(p["d"],{type:"icon-icon-test110",className:"add-icon",onClick:this._addSiteField}):null,S.a.createElement(p["d"],{type:"icon-icon-test109",className:"delete-icon",onClick:this._removeSiteField}),s?S.a.createElement(r["a"],null,S.a.createElement(c["a"],{span:3},S.a.createElement("div",{style:{paddingLeft:31}},p["f"])),S.a.createElement(c["a"],{span:15,style:{marginLeft:9}},S.a.createElement("div",{className:y.a["site-select-info"]},S.a.createElement("div",null,S.a.createElement("div",null,S.a.createElement("div",{className:y.a["site-name"]},h.site_name,S.a.createElement("span",{className:y.a["blue-font"],onClick:()=>this.setState({visibleSiteInfo2:!1})},"\u66f4\u6539"),S.a.createElement("span",{className:y.a["delete-font"],onClick:()=>this.setState({visibleSiteInfo2:!1,siteSelectionStatus2:!1,currentSiteInfo2:{}})},"\u5220\u9664")),S.a.createElement("div",null,h.contact," ",h.contact_phone))),S.a.createElement("div",null,S.a.createElement("div",{className:y.a["blue-background"]},p["m"][h.site_type-1]),S.a.createElement("div",null,h.province," ",h.city," ",h.area," ",h.site_address))))):S.a.createElement(F["a"].Item,N()({label:p["f"]},L),v("site2_id",{rules:[{required:o}]})(n?S.a.createElement(k["a"],{placeholder:"\u8bf7\u9009\u62e9\u7ad9\u70b9",autoFocus:!0,defaultOpen:!0,onBlur:this.changeSiteSelectionStatus2,onSelect:this.setSiteInfo2},_.map(e=>{return S.a.createElement(V,N()({value:e.id,key:e.id},e),e.site_name)})):S.a.createElement(d["a"],{className:"btn-select",style:{width:"100%",height:41},onClick:this.changeSiteSelectionStatus2},"\u8bf7\u9009\u62e9\u7ad9\u70b9")))),S.a.createElement(r["a"],null,S.a.createElement(c["a"],{span:9},S.a.createElement(F["a"].Item,N()({label:"\u8ba1\u5212\u6570\u91cf"},q),v("site2_quantity",{rules:[{required:o}]})(S.a.createElement(g["a"],{placeholder:"\u8bf7\u8f93\u5165\u6570\u91cf",onBlur:this.parseNumber.bind(null,"site2_quantity",3),addonAfter:"\u5428"})))),S.a.createElement(c["a"],{span:10,style:{width:"46.2%"}},S.a.createElement(F["a"].Item,N()({label:"\u5378\u8d27\u65f6\u95f4"},q,{style:{marginLeft:10}}),v("site2_time")(S.a.createElement(I["a"],{suffixIcon:S.a.createElement(p["d"],{className:"time-icon",type:"icon-icon-test8"}),style:{width:"100%"}})))))):null)}},n=s))||n)||n),R=A,P=k["a"].Option,Q=(L=Object(h["connect"])(e=>{var t=e.order,a=e.loading;return{order:t,loading:a.models.order}}),q=F["a"].create(),L(B=q((Y=class extends u["Component"]{constructor(){super(...arguments),this.state={visible:!1,clientSelectionStatus:!1,visibleClientInfo:!1,siteSelectionStatus:!1,visibleSiteInfo:!1,siteSelectionStatus2:!1,visibleSiteInfo2:!1,siteSelectionStatus3:!1,visibleSiteInfo3:!1,flag:!0,currentClientInfo:{},currentSiteInfo:{},currentSiteInfo2:{},currentSiteInfo3:{},extraClient:1,extraSite:1,currentSiteNum:1,maxQuantity:25},this.showModal=(()=>{if(this.state.visible)return!1;this.setState({visible:!0}),this.props.dispatch({type:"order/fetchClientSelect",payload:{}});var e=JSON.parse(localStorage.getItem("userData"));e.trade_type}),this.hideModal=(e=>{e&&e.stopPropagation(),this.setState({visible:!1,clientSelectionStatus:!1,visibleClientInfo:!1,siteSelectionStatus:!1,visibleSiteInfo:!1,siteSelectionStatus2:!1,visibleSiteInfo2:!1,siteSelectionStatus3:!1,visibleSiteInfo3:!1,flag:!0,currentClientInfo:{},currentSiteInfo:{},currentSiteInfo2:{},currentSiteInfo3:{},extraClient:1,extraSite:1,currentSiteNum:1})}),this.changeClientSelectionStatus=(()=>{this.setState({clientSelectionStatus:!this.state.clientSelectionStatus})}),this.changeSiteSelectionStatus=(()=>{this.setState({siteSelectionStatus:!this.state.siteSelectionStatus})}),this.changeSiteSelectionStatus2=(()=>{this.setState({siteSelectionStatus2:!this.state.siteSelectionStatus2})}),this.changeSiteSelectionStatus3=(()=>{this.setState({siteSelectionStatus3:!this.state.siteSelectionStatus3})}),this.setClientInfo=((e,t)=>{this.setState({currentClientInfo:x()({},t.props)}),this.props.dispatch({type:"order/inquireSiteSelectInfoByCreatePlan",payload:{id:e}}).then(()=>{this.setState({visibleClientInfo:!0})})}),this.setSiteInfo=((e,t)=>{this.setState({currentSiteInfo:x()({},t.props)}),this.setState({visibleSiteInfo:!0})}),this.setSiteInfo2=((e,t)=>{this.setState({currentSiteInfo2:x()({},t.props)}),this.setState({visibleSiteInfo2:!0})}),this.setSiteInfo3=((e,t)=>{this.setState({currentSiteInfo3:x()({},t.props)}),this.setState({visibleSiteInfo3:!0})}),this.submit=(()=>{this.props.form.validateFieldsAndScroll((e,t)=>{t.customer_id=this.state.currentClientInfo.id,t.site1_id=this.state.currentSiteInfo.id,this.state.currentSiteInfo2.id&&(t.site2_id=this.state.currentSiteInfo2.id),this.state.currentSiteInfo3.id&&(t.site3_id=this.state.currentSiteInfo3.id);var a=!0,i=!0;if(this.state.extraClient>1&&(a=this.formRef2.getItemsValue()),this.state.extraClient>2&&(i=this.formRef3.getItemsValue()),!e&&a&&i){console.log(t),t.site1_time=t.site1_time.format("YYYY-MM-DD"),this.state.currentSiteInfo2.id&&(t.site2_time=t.site2_time.format("YYYY-MM-DD")),this.state.currentSiteInfo3.id&&(t.site3_time=t.site3_time.format("YYYY-MM-DD"));var l=[t];!0!==a&&l.push(a),!0!==i&&l.push(i),console.log(l),this.props.dispatch({type:"order/submitCreatePlan",payload:{form:l}}).then(()=>this.hideModal())}})}),this.parseNumber=((e,t,a)=>{var i=a.target.value;if(""===i)return!1;isNaN(i)&&(i=0);var l=w(i,t);this.props.form.setFieldsValue({[e]:l})}),this.changeType=(e=>{"2"===e?this.setState({flag:!1}):this.setState({flag:!0})}),this.deleteClientSelect=(()=>{this.setState({visibleClientInfo:!1,clientSelectionStatus:!1,visibleSiteInfo:!1,siteSelectionStatus:!1,visibleSiteInfo2:!1,siteSelectionStatus2:!1,visibleSiteInfo3:!1,siteSelectionStatus3:!1,currentClientInfo:{},currentSiteInfo:{},currentSiteInfo2:{},currentSiteInfo3:{}}),this.props.dispatch({type:"order/save",payload:{siteSelectByCreatePlan:[]}})}),this.addClientField=(()=>{if(this.state.extraSite>3)return!1;this.setState({extraClient:this.state.extraClient+1,extraSite:this.state.extraSite+1})}),this.removeClientField=(()=>{if(this.state.extraSite<0)return!1;this.setState({extraClient:this.state.extraClient-1,extraSite:this.state.extraSite-1})}),this.addSiteField=(()=>{if(this.state.extraSite>3)return!1;this.setState({extraSite:this.state.extraSite+1})}),this._addSiteField=(()=>{if(this.state.extraSite>3)return!1;this.setState({currentSiteNum:this.state.currentSiteNum+1}),this.addSiteField()}),this.removeSiteField=(()=>{if(this.state.extraSite<0)return!1;this.setState({extraSite:this.state.extraSite-1})}),this._removeSiteField=(()=>{if(this.state.extraSite<0)return!1;this.setState({currentSiteNum:this.state.currentSiteNum-1}),this.removeSiteField()})}render(){var e=this.state,t=e.clientSelectionStatus,a=e.visibleClientInfo,i=e.siteSelectionStatus,l=e.siteSelectionStatus2,n=e.siteSelectionStatus3,s=e.visibleSiteInfo,o=e.visibleSiteInfo2,m=e.visibleSiteInfo3,u=e.flag,h=e.currentClientInfo,E=e.currentSiteInfo,f=e.currentSiteInfo2,v=e.currentSiteInfo3,C=e.extraClient,_=e.extraSite,x=e.currentSiteNum,L=(e.maxQuantity,this.props),q=L.form,B=q.getFieldDecorator,Y=q.getFieldValue,M=L.order,D=M.clientSelectByCreatePlan,O=M.siteSelectByCreatePlan,V=L.children,A=L.loading,Q={labelCol:{xs:{span:24},sm:{span:3}},wrapperCol:{xs:{span:24},sm:{span:16}}},j={labelCol:{xs:{span:24},sm:{span:8}},wrapperCol:{xs:{span:24},sm:{span:15}}};return S.a.createElement("div",{onClick:this.showModal,style:{display:"inline-block"}},V,S.a.createElement(b["a"],{title:"\u521b\u5efa\u8ba2\u5355",visible:this.state.visible,onCancel:this.hideModal,footer:null,width:840,maskClosable:!1,destroyOnClose:!0,bodyStyle:{padding:0}},S.a.createElement(F["a"],{style:{padding:"24px 24px 10px"}},S.a.createElement(S.a.Fragment,null,S.a.createElement(r["a"],{style:{position:"relative"}},_<3?S.a.createElement(p["d"],{type:"icon-icon-test110",className:"add-icon",onClick:this.addClientField}):null,a?S.a.createElement(r["a"],{style:{marginBottom:25}},S.a.createElement(c["a"],{span:3},S.a.createElement("div",{style:{paddingLeft:31}},p["a"])),S.a.createElement(c["a"],{span:15,style:{marginLeft:9}},S.a.createElement("div",{className:y.a["site-select-info"]},S.a.createElement("div",null,S.a.createElement("div",null,S.a.createElement("div",{className:y.a["site-name"]},h.company_name,S.a.createElement("span",{className:y.a["blue-font"],onClick:()=>this.setState({visibleClientInfo:!1})},"\u66f4\u6539"),S.a.createElement("span",{className:y.a["delete-font"],onClick:this.deleteClientSelect},"\u5220\u9664")),S.a.createElement("div",null,h.contact," ",h.contact_phone)),S.a.createElement("div",null,S.a.createElement("div",null,"\u9884\u4ed8\u6b3e\u989d ",S.a.createElement("span",{className:y.a["red-font"]},h.balance,"\u5143")),S.a.createElement("div",null,"\u4fe1\u7528\u989d\u5ea6 ",S.a.createElement("span",{className:y.a["red-font"]},h.credit,"\u5143"))))))):S.a.createElement(F["a"].Item,N()({label:p["a"]},Q),B("customer_id",{rules:[{required:!0}]})(t?S.a.createElement(k["a"],{placeholder:"\u8bf7\u9009\u62e9\u5ba2\u6237",autoFocus:!0,defaultOpen:!0,onBlur:this.changeClientSelectionStatus,onSelect:this.setClientInfo},D.map(e=>{return S.a.createElement(P,N()({value:e.id,key:e.id},e),e.company_name)})):S.a.createElement(d["a"],{className:"btn-select",style:{width:"100%",height:41},onClick:this.changeClientSelectionStatus},"\u8bf7\u9009\u62e9\u5ba2\u6237")))),S.a.createElement(r["a"],null,S.a.createElement(c["a"],{span:9},S.a.createElement(F["a"].Item,N()({label:"\u6536\u6b3e\u65b9\u5f0f"},j),B("payment_type",{initialValue:"1"})(S.a.createElement(k["a"],null,S.a.createElement(P,{value:"1"},"\u9884\u4ed8\u6b3e"),S.a.createElement(P,{value:"2"},"\u4fe1\u7528\u989d"))))),S.a.createElement(c["a"],{span:10,style:{width:"46.2%"}},S.a.createElement(F["a"].Item,N()({label:"\u914d\u9001\u65b9\u5f0f"},j,{style:{marginLeft:10}}),B("delivery_type",{rules:[{required:!0}],initialValue:"1"})(S.a.createElement(k["a"],{placeholder:"\u8bf7\u9009\u62e9\u914d\u9001\u65b9\u5f0f",onChange:this.changeType},S.a.createElement(P,{value:"1"},"\u5356\u65b9\u914d\u9001"),S.a.createElement(P,{value:"2"},"\u4e70\u65b9\u81ea\u63d0"),S.a.createElement(P,{value:"3"},"\u6211\u65b9\u914d\u9001")))))),S.a.createElement(r["a"],null,S.a.createElement(c["a"],{span:9},S.a.createElement(F["a"].Item,N()({label:"\u9500\u552e\u4ef7\u683c"},j),B("price",{rules:[{required:!0}]})(S.a.createElement(g["a"],{placeholder:"\u8bf7\u8f93\u5165\u91d1\u989d",onBlur:this.parseNumber.bind(null,"price",2),addonAfter:"\u5143/\u5428"})))),S.a.createElement(c["a"],{span:10,style:{width:"46.2%"}},S.a.createElement(F["a"].Item,N()({label:"\u989d\u5916\u8d39\u7528"},j,{style:{marginLeft:10}}),B("extra_fee",{rules:[{required:!0}]})(S.a.createElement(g["a"],{placeholder:"\u8bf7\u8f93\u5165\u91d1\u989d",onBlur:this.parseNumber.bind(null,"extra_fee",2),addonAfter:"\u5143"}))))),S.a.createElement("div",{className:"modal-line",style:{width:828,marginLeft:"-12px",marginBottom:24}}),S.a.createElement(S.a.Fragment,null,S.a.createElement(r["a"],{style:{position:"relative"}},_<3?S.a.createElement(p["d"],{type:"icon-icon-test110",className:"add-icon",onClick:this._addSiteField}):null,s?S.a.createElement(r["a"],null,S.a.createElement(c["a"],{span:3},S.a.createElement("div",{style:{paddingLeft:31}},p["f"])),S.a.createElement(c["a"],{span:15,style:{marginLeft:9}},S.a.createElement("div",{className:y.a["site-select-info"]},S.a.createElement("div",null,S.a.createElement("div",null,S.a.createElement("div",{className:y.a["site-name"]},E.site_name,S.a.createElement("span",{className:y.a["blue-font"],onClick:()=>this.setState({visibleSiteInfo:!1})},"\u66f4\u6539"),S.a.createElement("span",{className:y.a["delete-font"],onClick:()=>this.setState({visibleSiteInfo:!1,siteSelectionStatus:!1,currentSiteInfo:{}})},"\u5220\u9664")),S.a.createElement("div",null,E.contact," ",E.contact_phone))),S.a.createElement("div",null,S.a.createElement("div",{className:y.a["blue-background"]},p["m"][E.site_type-1]),S.a.createElement("div",null,E.province," ",E.city," ",E.area," ",E.site_address))))):S.a.createElement(F["a"].Item,N()({label:p["f"]},Q),B("site1_id",{rules:[{required:u}]})(i?S.a.createElement(k["a"],{placeholder:"\u8bf7\u9009\u62e9\u7ad9\u70b9",autoFocus:!0,defaultOpen:!0,onBlur:this.changeSiteSelectionStatus,onSelect:this.setSiteInfo},O.map(e=>{return S.a.createElement(P,N()({value:e.id,key:e.id},e),e.site_name)})):S.a.createElement(d["a"],{className:"btn-select",style:{width:"100%",height:41},onClick:this.changeSiteSelectionStatus},"\u8bf7\u9009\u62e9\u7ad9\u70b9")))),S.a.createElement(r["a"],null,S.a.createElement(c["a"],{span:9},S.a.createElement(F["a"].Item,N()({label:"\u8ba1\u5212\u6570\u91cf"},j),B("site1_quantity",{rules:[{required:u}]})(S.a.createElement(g["a"],{placeholder:"\u8bf7\u8f93\u5165\u6570\u91cf",onBlur:this.parseNumber.bind(null,"site1_quantity",3),addonAfter:"\u5428"})))),S.a.createElement(c["a"],{span:10,style:{width:"46.2%"}},S.a.createElement(F["a"].Item,N()({label:"\u5378\u8d27\u65f6\u95f4"},j,{style:{marginLeft:10}}),B("site1_time")(S.a.createElement(I["a"],{suffixIcon:S.a.createElement(p["d"],{className:"time-icon",type:"icon-icon-test8"}),style:{width:"100%"}})))))),x>1?S.a.createElement(S.a.Fragment,null,S.a.createElement(r["a"],{style:{position:"relative"}},S.a.createElement(p["d"],{type:"icon-icon-test109",className:"delete-icon",onClick:this._removeSiteField}),o?S.a.createElement(r["a"],null,S.a.createElement(c["a"],{span:3},S.a.createElement("div",{style:{paddingLeft:31}},p["f"])),S.a.createElement(c["a"],{span:15,style:{marginLeft:9}},S.a.createElement("div",{className:y.a["site-select-info"]},S.a.createElement("div",null,S.a.createElement("div",null,S.a.createElement("div",{className:y.a["site-name"]},f.site_name,S.a.createElement("span",{className:y.a["blue-font"],onClick:()=>this.setState({visibleSiteInfo2:!1})},"\u66f4\u6539"),S.a.createElement("span",{className:y.a["delete-font"],onClick:()=>this.setState({visibleSiteInfo2:!1,siteSelectionStatus2:!1,currentSiteInfo2:{}})},"\u5220\u9664")),S.a.createElement("div",null,f.contact," ",f.contact_phone))),S.a.createElement("div",null,S.a.createElement("div",{className:y.a["blue-background"]},p["m"][f.site_type-1]),S.a.createElement("div",null,f.province," ",f.city," ",f.area," ",f.site_address))))):S.a.createElement(F["a"].Item,N()({label:p["f"]},Q),B("site2_id",{rules:[{required:u}]})(l?S.a.createElement(k["a"],{placeholder:"\u8bf7\u9009\u62e9\u7ad9\u70b9",autoFocus:!0,defaultOpen:!0,onBlur:this.changeSiteSelectionStatus2,onSelect:this.setSiteInfo2},O.map(e=>{return S.a.createElement(P,N()({value:e.id,key:e.id},e),e.site_name)})):S.a.createElement(d["a"],{className:"btn-select",style:{width:"100%",height:41},onClick:this.changeSiteSelectionStatus2},"\u8bf7\u9009\u62e9\u7ad9\u70b9")))),S.a.createElement(r["a"],null,S.a.createElement(c["a"],{span:9},S.a.createElement(F["a"].Item,N()({label:"\u8ba1\u5212\u6570\u91cf"},j),B("site2_quantity",{rules:[{required:u}]})(S.a.createElement(g["a"],{placeholder:"\u8bf7\u8f93\u5165\u6570\u91cf",onBlur:this.parseNumber.bind(null,"site2_quantity",3),addonAfter:"\u5428"})))),S.a.createElement(c["a"],{span:10,style:{width:"46.2%"}},S.a.createElement(F["a"].Item,N()({label:"\u5378\u8d27\u65f6\u95f4"},j,{style:{marginLeft:10}}),B("site2_time")(S.a.createElement(I["a"],{suffixIcon:S.a.createElement(p["d"],{className:"time-icon",type:"icon-icon-test8"}),style:{width:"100%"}})))))):null,x>2?S.a.createElement(S.a.Fragment,null,S.a.createElement(r["a"],{style:{position:"relative"}},S.a.createElement(p["d"],{type:"icon-icon-test109",className:"delete-icon",onClick:this._removeSiteField}),m?S.a.createElement(r["a"],null,S.a.createElement(c["a"],{span:3},S.a.createElement("div",{style:{paddingLeft:31}},p["f"])),S.a.createElement(c["a"],{span:15,style:{marginLeft:9}},S.a.createElement("div",{className:y.a["site-select-info"]},S.a.createElement("div",null,S.a.createElement("div",null,S.a.createElement("div",{className:y.a["site-name"]},v.site_name,S.a.createElement("span",{className:y.a["blue-font"],onClick:()=>this.setState({visibleSiteInfo3:!1})},"\u66f4\u6539"),S.a.createElement("span",{className:y.a["delete-font"],onClick:()=>this.setState({visibleSiteInfo3:!1,siteSelectionStatus3:!1,currentSiteInfo3:{}})},"\u5220\u9664")),S.a.createElement("div",null,v.contact," ",v.contact_phone))),S.a.createElement("div",null,S.a.createElement("div",{className:y.a["blue-background"]},p["m"][v.site_type-1]),S.a.createElement("div",null,v.province," ",v.city," ",v.area," ",v.site_address))))):S.a.createElement(F["a"].Item,N()({label:p["f"]},Q),B("site3_id",{rules:[{required:u}]})(n?S.a.createElement(k["a"],{placeholder:"\u8bf7\u9009\u62e9\u7ad9\u70b9",autoFocus:!0,defaultOpen:!0,onBlur:this.changeSiteSelectionStatus3,onSelect:this.setSiteInfo3},O.map(e=>{return S.a.createElement(P,N()({value:e.id,key:e.id},e),e.site_name)})):S.a.createElement(d["a"],{className:"btn-select",style:{width:"100%",height:41},onClick:this.changeSiteSelectionStatus3},"\u8bf7\u9009\u62e9\u7ad9\u70b9")))),S.a.createElement(r["a"],null,S.a.createElement(c["a"],{span:9},S.a.createElement(F["a"].Item,N()({label:"\u8ba1\u5212\u6570\u91cf"},j),B("site3_quantity",{rules:[{required:u}]})(S.a.createElement(g["a"],{placeholder:"\u8bf7\u8f93\u5165\u6570\u91cf",onBlur:this.parseNumber.bind(null,"site3_quantity",3),addonAfter:"\u5428"})))),S.a.createElement(c["a"],{span:10,style:{width:"46.2%"}},S.a.createElement(F["a"].Item,N()({label:"\u5378\u8d27\u65f6\u95f4"},j,{style:{marginLeft:10}}),B("site3_time")(S.a.createElement(I["a"],{suffixIcon:S.a.createElement(p["d"],{className:"time-icon",type:"icon-icon-test8"}),style:{width:"100%"}})))))):null),C>1&&_<4?S.a.createElement(R,{extraSite:_,removeClientField:this.removeClientField,addSiteField:this.addSiteField,removeSiteField:this.removeSiteField,wrappedComponentRef:e=>this.formRef2=e}):null,C>2&&_<4?S.a.createElement(R,{extraSite:_,removeClientField:this.removeClientField,addSiteField:this.addSiteField,removeSiteField:this.removeSiteField,wrappedComponentRef:e=>this.formRef3=e}):null),S.a.createElement("div",{className:y.a["create-plan-modal-footer"]},S.a.createElement("div",null,S.a.createElement("div",null,S.a.createElement("div",{style:{marginLeft:30}},"\u9500\u552e\u603b\u91cf ",S.a.createElement("span",{className:y.a["red-font"]},Y("quantity_1")||"0.000"," \u5428")),S.a.createElement("div",{style:{marginLeft:30}},"\u9500\u552e\u603b\u989d ",S.a.createElement("span",{className:y.a["red-font"]},w(parseFloat(Y("price")||0)*parseFloat(Y("quantity_1")||0)+parseFloat(Y("extra_fee")||0),2)," \u5143"))),S.a.createElement("div",{style:{marginRight:20}},S.a.createElement(d["a"],{type:"primary",style:{marginRight:10},loading:A,onClick:this.submit},"\u786e\u8ba4\u521b\u5efa"),S.a.createElement(d["a"],{className:"red-btn",onClick:this.hideModal},"\u53d6\u6d88"))))))}},B=Y))||B)||B),j=Q,T=(M=Object(h["connect"])(e=>{var t=e.loading;return{loading:t.models.order}}),M((O=class extends u["Component"]{constructor(){super(...arguments),this.upLoadExcel=(e=>{this.props.dispatch({type:"order/upLoadExcel",payload:{file:e}})})}render(){var e=this.props.loading,t=S.a.createElement("div",null,"\u5bfc\u5165\u4fe1\u606f"),a=S.a.createElement(S.a.Fragment,null,S.a.createElement("div",null,S.a.createElement("p",null,"1. \u4e0a\u4f20\u4fe1\u606f\u6587\u4ef6\u65f6\uff0c\u8bf7\u4f7f\u7528excel\u6587\u4ef6\uff0c\u652f\u6301\u6587\u4ef6\u683c\u5f0f\u4e3a.xls\u6216\u8005.xlsx\uff1b"),S.a.createElement("p",null,"2. \u4fe1\u606f\u6587\u4ef6\u5185\u5bb9\uff0c\u8bf7\u4e25\u683c\u6309\u7167\u6a21\u677f\u6837\u5f0f\u586b\u5199\uff0c\u7ea2\u8272\u7684\u5b57\u6bb5\u5fc5\u987b\u586b\u5199\uff0c ",S.a.createElement("br",null),"\u5176\u4f59\u5b57\u6bb5\u82e5\u6ca1\u6709\u5219\u53ef\u4ee5\u4e0d\u586b\uff1b"),S.a.createElement("p",null,"3. \u5bfc\u5165\u4fe1\u606f\u65f6\uff0c\u5982\u679c\u548c\u5df2\u6709\u7684\u4fe1\u606f\u76f8\u540c\uff0c\u5219\u5bfc\u5165\u540e\u81ea\u52a8\u66f4\u65b0\u5176\u4fe1\u606f\uff1b")),S.a.createElement("div",{style:{textAlign:"center"}},S.a.createElement(d["a"],{className:"light-btn"},"\u4e0b\u8f7d\u4fe1\u606f\u6a21\u7248"),S.a.createElement(m["a"],{accept:".xls,.xlsx",name:"excel",action:`${p["c"]}/index/order/order-import`,customRequest:this.upLoadExcel,showUploadList:!1},S.a.createElement(d["a"],{className:"light-btn",style:{marginLeft:20},loading:e},"\u4e0a\u4f20\u4fe1\u606f\u6587\u4ef6"))));return S.a.createElement("div",null,S.a.createElement("div",{className:"toolbar"},S.a.createElement(j,null,S.a.createElement(d["a"],{type:"primary"},"\u65b0\u589e\u8ba2\u5355")),S.a.createElement(o["a"],{placement:"bottomLeft",title:t,content:a,trigger:"click"},S.a.createElement(d["a"],{type:"primary",style:{marginLeft:10}},"\u5bfc\u5165\u4fe1\u606f"))),S.a.createElement("div",{style:{padding:24}},S.a.createElement("div",null,p["k"].map((e,t)=>{return S.a.createElement("div",{key:t,className:y.a["order-type"]},e.label)})),S.a.createElement(r["a"],{gutter:16},S.a.createElement(c["a"],{span:12},S.a.createElement(E["default"],null)),S.a.createElement(c["a"],{span:12},S.a.createElement(f["default"],null)))))}},D=O))||D);t["default"]=T}}]);