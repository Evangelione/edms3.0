(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([[14],{PTE0:function(e,a,t){"use strict";t.r(a);t("DjyN");var l,s,i,n,c,r,o,m=t("NUBc"),p=(t("Q9mQ"),t("diRs")),d=(t("DZo9"),t("8z0m")),h=(t("+L6B"),t("2/Rp")),g=(t("R9oj"),t("ECub")),u=(t("5NDa"),t("5rEg")),E=t("q1tI"),y=t.n(E),b=t("MuoO"),v=(t("2qtc"),t("kLXV")),L=(t("6UJt"),t("DFOY")),x=t("pVnL"),f=t.n(x),I=(t("y8nQ"),t("Vl3Y")),N=(t("OaEy"),t("2fM7")),_=(t("O3gP"),t("lrIw")),C=t("mjZG"),w=_["a"].Option,k=N["a"].Option,S=(l=Object(b["connect"])(),s=I["a"].create(),l(i=s((n=class extends E["Component"]{constructor(e){super(e),this.openInsertModal=(()=>{if(this.state.modalVisible)return!1;this.setState({modalVisible:!0})}),this.closeInsertModal=(e=>{e&&e.stopPropagation(),this.setState({modalVisible:!1}),this.props.form.resetFields()}),this.handleChange=(e=>{console.log(`selected ${e}`)}),this.handleSubmit=(e=>{e.preventDefault(),this.props.form.validateFieldsAndScroll((e,a)=>{if(!e){var t={province:a.area_arr[0],city:a.area_arr[1],area:a.area_arr[2]||""};delete a.area_arr,Object.assign(a,t),this.props.dispatch({type:"logistics/insertLogistics",payload:{form:a}}).then(()=>{this.closeInsertModal(),this.props.dispatch({type:"logistics/fetchLogisticsList",payload:{}})})}})}),this.state={modalVisible:!1,autoCompleteResult:[]}}render(){var e=this.state,a=e.modalVisible,t=e.autoCompleteResult,l=this.props,s=l.children,i=l.form,n=l.loading,c=i.getFieldDecorator,r={labelCol:{xs:{span:24},sm:{span:6}},wrapperCol:{xs:{span:24},sm:{span:14}}},o={wrapperCol:{xs:{span:24,offset:0},sm:{span:14,offset:6}}},m=t.map(e=>y.a.createElement(w,{key:e},e));return y.a.createElement("div",{style:{display:"inline-block"},onClick:this.openInsertModal},s,y.a.createElement(v["a"],{visible:a,title:"\u65b0\u589e\u7269\u6d41",width:600,bodyStyle:{padding:"24px 60px"},footer:null,onCancel:this.closeInsertModal,maskClosable:!1},y.a.createElement(I["a"],{onSubmit:this.handleSubmit},y.a.createElement(I["a"].Item,f()({},r,{label:"\u7eb3\u7a0e\u4eba\u8bc6\u522b\u53f7"}),c("tax_number",{rules:[{required:!0}]})(y.a.createElement(u["a"],{placeholder:"\u8bf7\u8f93\u5165\u7eb3\u7a0e\u4eba\u8bc6\u522b\u53f7"}))),y.a.createElement(I["a"].Item,f()({},r,{label:"\u516c\u53f8\u5168\u79f0"}),c("company_full_name",{rules:[{required:!0}]})(y.a.createElement(u["a"],{placeholder:"\u8bf7\u8f93\u5165\u516c\u53f8\u5168\u79f0"}))),y.a.createElement(I["a"].Item,f()({},r,{label:"\u516c\u53f8\u7b80\u79f0"}),c("company_name",{rules:[{required:!0}]})(y.a.createElement(u["a"],{placeholder:"\u8bf7\u8f93\u5165\u516c\u53f8\u7b80\u79f0"}))),y.a.createElement(I["a"].Item,f()({},r,{label:"\u516c\u53f8\u7c7b\u578b"}),c("company_flow",{initialValue:"1"})(y.a.createElement(N["a"],{style:{width:"100%"},onChange:this.handleChange},y.a.createElement(k,{value:"1"},"\u8d38\u6613\u5546"),y.a.createElement(k,{value:"2"},"\u96f6\u552e\u5546")))),y.a.createElement(I["a"].Item,f()({},r,{label:"\u7701\u5e02\u533a\u53bf"}),c("area_arr",{initialValue:[],rules:[{type:"array",message:"\u7701\u5e02\u533a\u53bf"}]})(y.a.createElement(L["a"],{options:C["g"],placeholder:"\u8bf7\u9009\u62e9\u7701\u5e02\u533a\u53bf"}))),y.a.createElement(I["a"].Item,f()({},r,{label:"\u8be6\u7ec6\u5730\u5740"}),c("company_address")(y.a.createElement(u["a"],{placeholder:"\u8bf7\u8f93\u5165\u8be6\u7ec6\u5730\u5740"}))),y.a.createElement(I["a"].Item,f()({},r,{label:"\u5f00\u6237\u94f6\u884c"}),c("bank")(y.a.createElement(_["a"],{dataSource:m,placeholder:"\u8bf7\u9009\u62e9\u5f00\u6237\u94f6\u884c"},y.a.createElement(u["a"],null)))),y.a.createElement(I["a"].Item,f()({},r,{label:"\u94f6\u884c\u8d26\u53f7"}),c("bank_account")(y.a.createElement(u["a"],{placeholder:"\u8bf7\u8f93\u5165\u94f6\u884c\u8d26\u53f7"}))),y.a.createElement(I["a"].Item,f()({},r,{label:"\u8054\u7cfb\u4eba"}),c("contact",{rules:[{required:!0}]})(y.a.createElement(u["a"],{placeholder:"\u8bf7\u8f93\u5165\u8054\u7cfb\u4eba"}))),y.a.createElement(I["a"].Item,f()({},r,{label:"\u8054\u7cfb\u4eba\u7535\u8bdd"}),c("contact_phone",{rules:[{required:!0}]})(y.a.createElement(u["a"],{placeholder:"\u8bf7\u8f93\u5165\u8054\u7cfb\u4eba\u7535\u8bdd"}))),y.a.createElement(I["a"].Item,o,y.a.createElement(h["a"],{type:"primary",htmlType:"submit",loading:n},"\u786e\u5b9a"),y.a.createElement(h["a"],{className:"red-btn",style:{marginLeft:20,marginTop:20},onClick:this.closeInsertModal},"\u53d6\u6d88")))))}},i=n))||i)||i),V=S,q=t("usdK"),M=u["a"].Search,O=(c=Object(b["connect"])(e=>{var a=e.logistics,t=e.loading;return{logistics:a,loading:t.models.logistics}}),c((o=class extends E["Component"]{constructor(){super(...arguments),this.fetchLogisticsList=(()=>{this.props.dispatch({type:"logistics/fetchLogisticsList",payload:{}})}),this.searchLogisticsList=(e=>{this.props.dispatch({type:"logistics/fetchLogisticsList",payload:{logistics_name:e}})}),this.changeLogisticsName=(e=>{this.props.dispatch({type:"logistics/save",payload:{logistics_name:e.target.value}}),""===e.target.value&&this.searchLogisticsList("")}),this.pageChange=(e=>{this.props.dispatch({type:"logistics/fetchLogisticsList",payload:{page:e,logistics_name:this.props.logistics.logistics_name}})}),this.mapItem=(()=>{var e=this.props.logistics.logisticsList;return e.length?e.map((e,a)=>y.a.createElement("div",{className:"list-item",key:e.id,onClick:this.goLogisticsDetail.bind(null,e.id,e.company_name)},y.a.createElement("div",{className:"serial-num"},a+1),y.a.createElement("div",{className:"company-box"},y.a.createElement("div",null,y.a.createElement("img",{src:t("tTbt"),alt:""})),y.a.createElement("div",{className:"company-name"},e.company_name)),y.a.createElement("div",{className:"contact-box"},y.a.createElement("div",{className:"contact-name"},e.contact),y.a.createElement("div",{className:"contact-phone"},e.contact_phone)),y.a.createElement("div",{className:"sales-box",style:{visibility:"hidden"}},y.a.createElement("div",null,y.a.createElement("div",null,"\u9500\u552e\u989d"),y.a.createElement("div",{className:"sales-price"},e.xiaoshoue," \u5143")),y.a.createElement("div",null,y.a.createElement("div",null,"\u9500\u552e\u91cf"),y.a.createElement("div",{className:"sales-num"},e.xiaoshouliang," \u5428"))))):y.a.createElement(g["a"],null)}),this.goLogisticsDetail=((e,a)=>{q["a"].push(this.props.location.pathname+`/${e}?company=${a}`)}),this.upLoadExcel=(e=>{this.props.dispatch({type:"logistics/upLoadExcel",payload:{file:e}}).then(()=>{this.fetchLogisticsList()})})}componentWillMount(){this.fetchLogisticsList()}render(){var e=this.props.loading,a=this.props.logistics,t=a.logisticsPage,l=a.logisticsTotal,s=a.logistics_name,i=y.a.createElement("div",null,"\u5bfc\u5165\u4fe1\u606f"),n=y.a.createElement(y.a.Fragment,null,y.a.createElement("div",null,y.a.createElement("p",null,"1. \u4e0a\u4f20\u4fe1\u606f\u6587\u4ef6\u65f6\uff0c\u8bf7\u4f7f\u7528excel\u6587\u4ef6\uff0c\u652f\u6301\u6587\u4ef6\u683c\u5f0f\u4e3a.xls\u6216\u8005.xlsx\uff1b"),y.a.createElement("p",null,"2. \u4fe1\u606f\u6587\u4ef6\u5185\u5bb9\uff0c\u8bf7\u4e25\u683c\u6309\u7167\u6a21\u677f\u6837\u5f0f\u586b\u5199\uff0c\u7ea2\u8272\u7684\u5b57\u6bb5\u5fc5\u987b\u586b\u5199\uff0c ",y.a.createElement("br",null),"\u5176\u4f59\u5b57\u6bb5\u82e5\u6ca1\u6709\u5219\u53ef\u4ee5\u4e0d\u586b\uff1b"),y.a.createElement("p",null,"3. \u5bfc\u5165\u4fe1\u606f\u65f6\uff0c\u5982\u679c\u548c\u5df2\u6709\u7684\u4fe1\u606f\u76f8\u540c\uff0c\u5219\u5bfc\u5165\u540e\u81ea\u52a8\u66f4\u65b0\u5176\u4fe1\u606f\uff1b")),y.a.createElement("div",{style:{textAlign:"center"}},y.a.createElement(h["a"],{className:"light-btn"},"\u4e0b\u8f7d\u7269\u6d41\u6a21\u7248"),y.a.createElement(d["a"],{accept:".xls,.xlsx",name:"excel",action:`${C["a"]}/index/logistics/import`,customRequest:this.upLoadExcel,showUploadList:!1},y.a.createElement(h["a"],{className:"light-btn",style:{marginLeft:20},loading:e},"\u5bfc\u5165\u7269\u6d41")),y.a.createElement(h["a"],{className:"light-btn",style:{marginLeft:20}},"\u4e0b\u8f7d\u8f66\u961f\u6a21\u7248"),y.a.createElement(d["a"],{accept:".xls,.xlsx",name:"excel",action:`${C["a"]}/index/driver/driver-car-import`,customRequest:this.upLoadExcel,showUploadList:!1},y.a.createElement(h["a"],{className:"light-btn",style:{marginLeft:20},loading:e},"\u5bfc\u5165\u8f66\u961f"))));return y.a.createElement(y.a.Fragment,null,y.a.createElement("div",{className:"toolbar"},y.a.createElement(V,null,y.a.createElement(h["a"],{type:"primary"},"\u65b0\u589e\u7269\u6d41")),y.a.createElement(p["a"],{placement:"bottomLeft",title:i,content:n,trigger:"click"},y.a.createElement(h["a"],{type:"primary",style:{marginLeft:10}},"\u5bfc\u5165\u4fe1\u606f")),y.a.createElement(M,{placeholder:"\u8bf7\u8f93\u5165\u7269\u6d41\u516c\u53f8\u540d\u79f0\u8fdb\u884c\u67e5\u627e",enterButton:"\u67e5\u627e",value:s,onChange:this.changeLogisticsName,onSearch:this.searchLogisticsList,style:{width:"25rem",height:"2.5rem",float:"right",marginTop:19}})),y.a.createElement("div",{style:{padding:24}},this.mapItem()),y.a.createElement("div",{style:{textAlign:"center",marginBottom:50}},y.a.createElement(m["a"],{current:t,total:l,pageSize:C["c"],onChange:this.pageChange})))}},r=o))||r);a["default"]=O}}]);