(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([[18],{"+GX8":function(e,t,a){"use strict";a.r(t);a("miYZ");var r=a("tsqr"),n=a("p0pE"),s=a.n(n),c=a("Y/ft"),i=a.n(c),o=a("d6i3"),u=a.n(o),p=a("y0tt"),d=a("mjZG");function l(e){var t=e.page,a=e.status,r=i()(e,["page","status"]),n=new FormData;return n.append("page",t),n.append("limit",d["f"]),n.append("status",a),Object.keys(r).forEach((e,t)=>{n.append(e,r[e]||"")}),Object(p["a"])(`${d["c"]}/index/order/page`,{method:"POST",body:n})}function f(e){var t=new FormData;return t.append(e.filename,e.file),Object(p["a"])(e.action,{method:"POST",body:t})}function y(e){var t=new FormData;return t.append("customer_id",e),Object(p["a"])(`${d["c"]}/index/site/list`,{method:"POST",body:t})}function h(e){var t=new FormData;return t.append("sites",JSON.stringify(e)),Object(p["a"])(`${d["c"]}/index/order/customer-order-add`,{method:"POST",body:t})}function m(e){var t=new FormData;return Object.keys(e).forEach((a,r)=>{t.append(a,e[a]||"")}),Object(p["a"])(`${d["c"]}/index/order/dispatch`,{method:"POST",body:t})}function x(){return Object(p["a"])(`${d["c"]}/index/logistics/list`,{method:"GET"})}function v(e){var t=new FormData;return Object.keys(e).forEach((a,r)=>{t.append(a,e[a]||"")}),Object(p["a"])(`${d["c"]}/index/driver/driver-car-ganged-list`,{method:"POST",body:t})}function w(){return Object(p["a"])(`${d["c"]}/index/supp/list`,{method:"GET"})}function g(e){var t=new FormData;return t.append("supp_id",e),Object(p["a"])(`${d["c"]}/index/goods/list`,{method:"POST",body:t})}function O(e){var t=new FormData;return Object.keys(e).forEach((a,r)=>{t.append(a,e[a]||"")}),Object(p["a"])(`${d["c"]}/index/order/purchase`,{method:"POST",body:t})}function S(e){var t=new FormData;return t.append("id",e),Object(p["a"])(`${d["c"]}/index/order/pre-set-pic`,{method:"POST",body:t})}function b(e){var t=new FormData;return Object.keys(e).forEach((a,r)=>{t.append(a,e[a]||"")}),Object(p["a"])(`${d["c"]}/index/order/set-load-pic`,{method:"POST",body:t})}function B(e){var t=new FormData;return Object.keys(e).forEach((a,r)=>{t.append(a,e[a]||"")}),Object(p["a"])(`${d["c"]}/index/order/set-unload-pic`,{method:"POST",body:t})}function I(){return fetch("/api/client-select").then(e=>e.json()).then(e=>{return e})}function _(){return fetch("/api/site-select").then(e=>e.json()).then(e=>{return e})}function k(){return fetch("/api/site-select").then(e=>e.json()).then(e=>{return e})}function P(){return fetch("/api/site-select").then(e=>e.json()).then(e=>{return e})}function j(){return fetch("/api/site-select").then(e=>e.json()).then(e=>{return e})}function C(){return fetch("/api/site-select").then(e=>e.json()).then(e=>{return e})}function L(){return fetch("/api/site-select").then(e=>e.json()).then(e=>{return e})}function $(){return Object(p["a"])(`${d["c"]}/index/cust/list`,{method:"GET"})}function T(){return Object(p["a"])(`${d["c"]}/index/supp/corder-condition`)}function q(){return Object(p["a"])(`${d["c"]}/index/supp/list`)}function D(){return Object(p["a"])(`${d["c"]}/index/cust/list`)}t["default"]={namespace:"order",state:{orderList:[],orderPage:1,orderTotal:0,orderStatus:"",currentOrderNum:0,orderMapDetail:{client:[{name:"\u5c71\u4e1c\u5b9e\u534e\u5929\u7136\u6c14",contact:"\u5f20\u4e09",contact_phone:"18989898989",saler_num:"20.000",saler_price:"4500.00",saler_total:"90000.00",type:"\u9884\u4ed8\u6b3e"}],site:[{name:"\u4e2d\u77f3\u6cb9\u6d4e\u5357\u7b2c\u4e03\u52a0\u6c14\u7ad9\uff08\u52a0\u6c14\u7ad9\uff09",contact:"\u5f20\u4e09",contact_phone:"18989898989",province:"\u5c71\u4e1c\u7701",city:"\u6d4e\u5357\u5e02",area:"\u69d0\u836b\u533a",address:"\u738b\u5e9c\u4e95\u516c\u4ea4\u505c\u8f66\u573a",plan_num:"20.000",plan_time:"2019-02-02 14:00",site_type:"\u52a0\u6c14\u7ad9"}],supplier:{name:"\u4e2d\u77f3\u6cb9\u5c71\u4e1c\u6606\u4ed1",contact:"\u5f20\u4e09",contact_phone:"18989898989",purchase_num:"20.000",purchase_price:"4500.00",purchase_total:"90000.00",type:"\u9884\u4ed8\u6b3e"},gas:{name:"\u6606\u4ed1\u9ec4\u5188\u6db2\u5316\u5929\u7136\u6c14",contact:"\u5f20\u4e09",contact_phone:"18989898989",origin:"\u8463\u5bb6\u53e3\u6c14",province:"\u5c71\u4e1c\u7701",city:"\u6d4e\u5357\u5e02",area:"\u69d0\u836b\u533a",address:"\u738b\u5e9c\u4e95\u516c\u4ea4\u505c\u8f66\u573a",logistics_type:"\u6211\u65b9\u914d\u9001",plan_time:"2019-02-02 14:01"},logistics:{name:"\u4e2d\u77f3\u6cb9\u5c71\u4e1c\u6606\u4ed1",contact:"\u5f20\u4e09",contact_phone:"18989898989",distance:"200.00",log_price:"15.00",log_total:"3000.00",type:"\u9884\u4ed8\u6b3e"}},clientSelectInfoBySalesBilling:{},siteSelectInfoBySalesBilling:{},logisticsSelectByLogisticsScheduling:{},supplierSelectInfoByOrderPurchase:{},gasSelectInfoByOrderPurchase:{},orderInfoByOrderConfirm:{},siteSelectInfoByOrderConfirm:{},gasSelectInfoByOrderConfirm:{},clientSelectByCreatePlan:[],siteSelectByCreatePlan:[],logisticsDriverList:[],logisticsCarHeadList:[],logisticsCarBodyList:[],suppInfoByOrderPurchase:[],gasInfoByOrderPurchase:[],poundInfoByUpload:{},order_modify_id:"",order_modify_type:"",order_modify_visible:!1,filter_condition:{},supp_list:[],cust_list:[]},subscriptions:{setup(e){e.dispatch;var t=e.history;return t.listen(e=>{e.pathname,e.query})}},effects:{orderModifyOpen:u.a.mark(function e(t,a){var r,n,s,c,i;return u.a.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return r=t.payload,n=r.id,s=r.type,c=r.visible,a.call,i=a.put,e.next=4,i({type:"save",payload:{order_modify_id:n,order_modify_type:s,order_modify_visible:c}});case 4:case"end":return e.stop()}},e)}),fetchOrderList:u.a.mark(function e(t,a){var n,c,o,p,d,f,y,h,m,x;return u.a.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return n=a.call,c=a.put,o=t.payload,p=o.page,d=void 0===p?1:p,f=o.status,y=void 0===f?"":f,h=i()(o,["page","status"]),e.next=4,n(l,s()({page:d,status:y},h));case 4:if(m=e.sent,x=m.data,1!==parseInt(x.code,10)){e.next=11;break}return e.next=9,c({type:"save",payload:{orderList:x.data.list,orderPage:parseInt(d,10),orderTotal:parseInt(x.data.total,10),orderStatus:y}});case 9:e.next=12;break;case 11:r["a"].error(x.msg);case 12:case"end":return e.stop()}},e)}),upLoadExcel:u.a.mark(function e(t,a){var n,s,c,i;return u.a.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return n=t.payload.file,s=a.call,e.next=4,s(f,n);case 4:c=e.sent,i=c.data;try{1===parseInt(i.code,10)?r["a"].success(`\u5bfc\u5165\u6210\u529f ${i.num.success_num} \u6761`):r["a"].error(i.msg)}catch(e){r["a"].error(e)}case 7:case"end":return e.stop()}},e)}),inquireClientSelectInfoBySalesBilling:u.a.mark(function e(t,a){var r,n,s,c;return u.a.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return r=t.payload.file,n=a.call,s=a.put,e.next=4,n(I,r);case 4:return c=e.sent,e.next=7,s({type:"save",payload:{clientSelectInfoBySalesBilling:c}});case 7:case"end":return e.stop()}},e)}),inquireSiteSelectInfoBySalesBilling:u.a.mark(function e(t,a){var r,n,s,c;return u.a.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return r=t.payload.file,n=a.call,s=a.put,e.next=4,n(_,r);case 4:return c=e.sent,e.next=7,s({type:"save",payload:{siteSelectInfoBySalesBilling:c}});case 7:case"end":return e.stop()}},e)}),inquireLogisticsSelectByLogisticsScheduling:u.a.mark(function e(t,a){var r,n,s,c;return u.a.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return t.payload,r=a.call,n=a.put,e.next=4,r(x);case 4:return s=e.sent,c=s.data,e.next=8,n({type:"save",payload:{logisticsSelectByLogisticsScheduling:c.data.list}});case 8:case"end":return e.stop()}},e)}),inquireLogisticsInfoByLogisticsScheduling:u.a.mark(function e(t,a){var r,n,s,c,i,o;return u.a.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return r=t.payload,n=a.call,s=a.put,e.next=4,n(v,r);case 4:return c=e.sent,i=c.data,o=r.car_head_id?"logisticsCarBodyList":r.driver_id?"logisticsCarHeadList":"logisticsDriverList",e.next=9,s({type:"save",payload:{[o]:i.data.list}});case 9:case"end":return e.stop()}},e)}),inquireSuppInfoByOrderPurchase:u.a.mark(function e(t,a){var r,n,s,c;return u.a.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return t.payload,r=a.call,n=a.put,e.next=4,r(w);case 4:return s=e.sent,c=s.data,e.next=8,n({type:"save",payload:{suppInfoByOrderPurchase:c.data.list}});case 8:case"end":return e.stop()}},e)}),inquireGasInfoByOrderPurchase:u.a.mark(function e(t,a){var r,n,s,c,i;return u.a.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return r=t.payload.id,n=a.call,s=a.put,e.next=4,n(g,r);case 4:return c=e.sent,i=c.data,e.next=8,s({type:"save",payload:{gasInfoByOrderPurchase:i.data.list}});case 8:case"end":return e.stop()}},e)}),purchase:u.a.mark(function e(t,a){var n,s,c,i;return u.a.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return n=t.payload.form,s=a.call,a.put,e.next=4,s(O,n);case 4:c=e.sent,i=c.data,1===parseInt(i.code,10)?r["a"].success(i.msg):r["a"].error(i.msg);case 7:case"end":return e.stop()}},e)}),inquireSupplierSelectInfoByOrderPurchase:u.a.mark(function e(t,a){var r,n,s,c;return u.a.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return r=t.payload.file,n=a.call,s=a.put,e.next=4,n(k,r);case 4:return c=e.sent,e.next=7,s({type:"save",payload:{supplierSelectInfoByOrderPurchase:c}});case 7:case"end":return e.stop()}},e)}),inquireGasSelectInfoByOrderPurchase:u.a.mark(function e(t,a){var r,n,s,c;return u.a.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return r=t.payload.file,n=a.call,s=a.put,e.next=4,n(P,r);case 4:return c=e.sent,e.next=7,s({type:"save",payload:{gasSelectInfoByOrderPurchase:c}});case 7:case"end":return e.stop()}},e)}),inquireOrderInfoByOrderConfirm:u.a.mark(function e(t,a){var r,n,s,c;return u.a.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return r=t.payload.file,n=a.call,s=a.put,e.next=4,n(j,r);case 4:return c=e.sent,e.next=7,s({type:"save",payload:{orderInfoByOrderConfirm:c}});case 7:case"end":return e.stop()}},e)}),inquireSiteSelectInfoByOrderConfirm:u.a.mark(function e(t,a){var r,n,s,c;return u.a.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return r=t.payload.file,n=a.call,s=a.put,e.next=4,n(C,r);case 4:return c=e.sent,e.next=7,s({type:"save",payload:{siteSelectInfoByOrderConfirm:c}});case 7:case"end":return e.stop()}},e)}),inquireGasSelectInfoByOrderConfirm:u.a.mark(function e(t,a){var r,n,s,c;return u.a.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return r=t.payload.file,n=a.call,s=a.put,e.next=4,n(L,r);case 4:return c=e.sent,e.next=7,s({type:"save",payload:{gasSelectInfoByOrderConfirm:c}});case 7:case"end":return e.stop()}},e)}),fetchClientSelect:u.a.mark(function e(t,a){var r,n,s,c;return u.a.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return t.payload,r=a.call,n=a.put,e.next=4,r($);case 4:return s=e.sent,c=s.data,e.next=8,n({type:"save",payload:{clientSelectByCreatePlan:c.data.list}});case 8:case"end":return e.stop()}},e)}),inquireSiteSelectInfoByCreatePlan:u.a.mark(function e(t,a){var r,n,s,c,i;return u.a.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return r=t.payload.id,n=a.call,s=a.put,e.next=4,n(y,r);case 4:return c=e.sent,i=c.data,e.next=8,s({type:"save",payload:{siteSelectByCreatePlan:i.data.list}});case 8:case"end":return e.stop()}},e)}),submitCreatePlan:u.a.mark(function e(t,a){var n,s,c,i;return u.a.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return n=t.payload.form,s=a.call,a.put,e.next=4,s(h,n);case 4:c=e.sent,i=c.data,1===parseInt(i.code,10)?r["a"].success(i.msg):r["a"].error(i.msg);case 7:case"end":return e.stop()}},e)}),schedulingLogistics:u.a.mark(function e(t,a){var n,s,c,i;return u.a.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return n=t.payload.form,s=a.call,a.put,e.next=4,s(m,n);case 4:c=e.sent,i=c.data,1===parseInt(i.code,10)?r["a"].success(i.msg):r["a"].error(i.msg);case 7:case"end":return e.stop()}},e)}),fetchPoundInfo:u.a.mark(function e(t,a){var n,s,c,i,o;return u.a.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return n=t.payload.id,s=a.call,c=a.put,e.next=4,s(S,n);case 4:if(i=e.sent,o=i.data,1!==parseInt(o.code,10)){e.next=11;break}return e.next=9,c({type:"save",payload:{poundInfoByUpload:o.data.info}});case 9:e.next=12;break;case 11:r["a"].error(o.msg);case 12:case"end":return e.stop()}},e)}),upLoadingPound:u.a.mark(function e(t,a){var n,s,c,i;return u.a.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return n=t.payload,s=a.call,e.next=4,s(b,n);case 4:c=e.sent,i=c.data,1===parseInt(i.code,10)?r["a"].success(i.msg):r["a"].error(i.msg);case 7:case"end":return e.stop()}},e)}),unLoadingPound:u.a.mark(function e(t,a){var n,s,c,i;return u.a.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return n=t.payload,s=a.call,e.next=4,s(B,n);case 4:c=e.sent,i=c.data,1===parseInt(i.code,10)?r["a"].success(i.msg):r["a"].error(i.msg);case 7:case"end":return e.stop()}},e)}),fetchFilterCondition:u.a.mark(function e(t,a){var n,s,c,i,o,p,d;return u.a.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return n=t.payload,s=a.call,c=a.put,e.next=4,s(T,n);case 4:if(i=e.sent,o=i.data,1!==parseInt(o.code,10)){e.next=11;break}return e.next=9,c({type:"save",payload:{filter_condition:o.data}});case 9:e.next=12;break;case 11:r["a"].error(o.msg);case 12:return e.next=14,s(q,n);case 14:if(p=e.sent,1!==parseInt(p.data.code,10)){e.next=20;break}return e.next=18,c({type:"save",payload:{supp_list:p.data.data.list}});case 18:e.next=21;break;case 20:r["a"].error(o.msg);case 21:return e.next=23,s(D,n);case 23:if(d=e.sent,1!==parseInt(d.data.code,10)){e.next=29;break}return e.next=27,c({type:"save",payload:{cust_list:d.data.data.list}});case 27:e.next=30;break;case 29:r["a"].error(o.msg);case 30:case"end":return e.stop()}},e)})},reducers:{save(e,t){return s()({},e,t.payload)}}}}}]);