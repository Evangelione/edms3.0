(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([[18],{"+GX8":function(e,t,n){"use strict";n.r(t);var r=n("MVZn"),a=n.n(r),s=n("o0o1"),c=n.n(s),i=(n("miYZ"),n("tsqr")),o=n("y0tt"),u=n("mjZG");function l(e){var t=e.page,n=e.status,r=new FormData;return r.append("page",t),r.append("limit",u["e"]),r.append("status",n),Object(o["a"])(`${u["c"]}/index/order/page`,{method:"POST",body:r})}function p(e){var t=new FormData;return t.append(e.filename,e.file),Object(o["a"])(e.action,{method:"POST",body:t})}function d(e){var t=new FormData;return t.append("customer_id",e),Object(o["a"])(`${u["c"]}/index/site/list`,{method:"POST",body:t})}function f(e){var t=new FormData;return t.append("sites",JSON.stringify(e)),Object(o["a"])(`${u["c"]}/index/order/customer-order-add`,{method:"POST",body:t})}function h(){return fetch("/api/client-select").then(e=>e.json()).then(e=>{return e})}function y(){return fetch("/api/site-select").then(e=>e.json()).then(e=>{return e})}function m(){return fetch("/api/site-select").then(e=>e.json()).then(e=>{return e})}function w(){return fetch("/api/client-select").then(e=>e.json()).then(e=>{return e})}function v(){return fetch("/api/site-select").then(e=>e.json()).then(e=>{return e})}function x(){return fetch("/api/site-select").then(e=>e.json()).then(e=>{return e})}function S(){return fetch("/api/site-select").then(e=>e.json()).then(e=>{return e})}function g(){return fetch("/api/site-select").then(e=>e.json()).then(e=>{return e})}function B(){return fetch("/api/site-select").then(e=>e.json()).then(e=>{return e})}function I(){return fetch("/api/site-select").then(e=>e.json()).then(e=>{return e})}function O(){return Object(o["a"])(`${u["c"]}/index/cust/list`,{method:"GET"})}t["default"]={namespace:"order",state:{orderList:[],orderPage:1,orderTotal:0,currentOrderNum:0,orderMapDetail:{client:[{name:"\u5c71\u4e1c\u5b9e\u534e\u5929\u7136\u6c14",contact:"\u5f20\u4e09",contact_phone:"18989898989",saler_num:"20.000",saler_price:"4500.00",saler_total:"90000.00",type:"\u9884\u4ed8\u6b3e"}],site:[{name:"\u4e2d\u77f3\u6cb9\u6d4e\u5357\u7b2c\u4e03\u52a0\u6c14\u7ad9\uff08\u52a0\u6c14\u7ad9\uff09",contact:"\u5f20\u4e09",contact_phone:"18989898989",province:"\u5c71\u4e1c\u7701",city:"\u6d4e\u5357\u5e02",area:"\u69d0\u836b\u533a",address:"\u738b\u5e9c\u4e95\u516c\u4ea4\u505c\u8f66\u573a",plan_num:"20.000",plan_time:"2019-02-02 14:00",site_type:"\u52a0\u6c14\u7ad9"}],supplier:{name:"\u4e2d\u77f3\u6cb9\u5c71\u4e1c\u6606\u4ed1",contact:"\u5f20\u4e09",contact_phone:"18989898989",purchase_num:"20.000",purchase_price:"4500.00",purchase_total:"90000.00",type:"\u9884\u4ed8\u6b3e"},gas:{name:"\u6606\u4ed1\u9ec4\u5188\u6db2\u5316\u5929\u7136\u6c14",contact:"\u5f20\u4e09",contact_phone:"18989898989",origin:"\u8463\u5bb6\u53e3\u6c14",province:"\u5c71\u4e1c\u7701",city:"\u6d4e\u5357\u5e02",area:"\u69d0\u836b\u533a",address:"\u738b\u5e9c\u4e95\u516c\u4ea4\u505c\u8f66\u573a",logistics_type:"\u6211\u65b9\u914d\u9001",plan_time:"2019-02-02 14:01"},logistics:{name:"\u4e2d\u77f3\u6cb9\u5c71\u4e1c\u6606\u4ed1",contact:"\u5f20\u4e09",contact_phone:"18989898989",distance:"200.00",log_price:"15.00",log_total:"3000.00",type:"\u9884\u4ed8\u6b3e"}},clientSelectInfoBySalesBilling:{},siteSelectInfoBySalesBilling:{},siteInfoByLogisticsScheduling:{},logisticsInfoByLogisticsScheduling:{},siteInfoByOrderPurchase:{},supplierSelectInfoByOrderPurchase:{},gasSelectInfoByOrderPurchase:{},orderInfoByOrderConfirm:{},siteSelectInfoByOrderConfirm:{},gasSelectInfoByOrderConfirm:{},clientSelectByCreatePlan:[],siteSelectByCreatePlan:[]},subscriptions:{setup(e){e.dispatch;var t=e.history;return t.listen(e=>{e.pathname,e.query})}},effects:{fetchOrderList:c.a.mark(function e(t,n){var r,a,s,o,u,p,d,f,h;return c.a.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return r=t.payload,a=r.page,s=void 0===a?1:a,o=r.status,u=void 0===o?"":o,p=n.call,d=n.put,e.next=4,p(l,{page:s,status:u});case 4:if(f=e.sent,h=f.data,1!==parseInt(h.code,10)){e.next=11;break}return e.next=9,d({type:"save",payload:{orderList:h.data.list,orderPage:parseInt(s,10),orderTotal:parseInt(h.data.total,10)}});case 9:e.next=12;break;case 11:i["a"].error(h.msg);case 12:case"end":return e.stop()}},e,this)}),upLoadExcel:c.a.mark(function e(t,n){var r,a,s,o;return c.a.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return r=t.payload.file,a=n.call,e.next=4,a(p,r);case 4:s=e.sent,o=s.data;try{1===parseInt(o.code,10)?i["a"].success(`\u5bfc\u5165\u6210\u529f ${o.num.success_num} \u6761`):i["a"].error(o.msg)}catch(e){i["a"].error(e)}case 7:case"end":return e.stop()}},e,this)}),inquireClientSelectInfoBySalesBilling:c.a.mark(function e(t,n){var r,a,s,i;return c.a.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return r=t.payload.file,a=n.call,s=n.put,e.next=4,a(h,r);case 4:return i=e.sent,e.next=7,s({type:"save",payload:{clientSelectInfoBySalesBilling:i}});case 7:case"end":return e.stop()}},e,this)}),inquireSiteSelectInfoBySalesBilling:c.a.mark(function e(t,n){var r,a,s,i;return c.a.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return r=t.payload.file,a=n.call,s=n.put,e.next=4,a(y,r);case 4:return i=e.sent,e.next=7,s({type:"save",payload:{siteSelectInfoBySalesBilling:i}});case 7:case"end":return e.stop()}},e,this)}),inquireSiteInfoByLogisticsScheduling:c.a.mark(function e(t,n){var r,a,s,i;return c.a.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return r=t.payload.file,a=n.call,s=n.put,e.next=4,a(m,r);case 4:return i=e.sent,e.next=7,s({type:"save",payload:{siteInfoByLogisticsScheduling:i}});case 7:case"end":return e.stop()}},e,this)}),inquireLogisticsInfoByLogisticsScheduling:c.a.mark(function e(t,n){var r,a,s,i;return c.a.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return r=t.payload.file,a=n.call,s=n.put,e.next=4,a(w,r);case 4:return i=e.sent,e.next=7,s({type:"save",payload:{logisticsInfoByLogisticsScheduling:i}});case 7:case"end":return e.stop()}},e,this)}),inquireSiteInfoByOrderPurchase:c.a.mark(function e(t,n){var r,a,s,i;return c.a.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return r=t.payload.file,a=n.call,s=n.put,e.next=4,a(v,r);case 4:return i=e.sent,e.next=7,s({type:"save",payload:{siteInfoByOrderPurchase:i}});case 7:case"end":return e.stop()}},e,this)}),inquireSupplierSelectInfoByOrderPurchase:c.a.mark(function e(t,n){var r,a,s,i;return c.a.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return r=t.payload.file,a=n.call,s=n.put,e.next=4,a(x,r);case 4:return i=e.sent,e.next=7,s({type:"save",payload:{supplierSelectInfoByOrderPurchase:i}});case 7:case"end":return e.stop()}},e,this)}),inquireGasSelectInfoByOrderPurchase:c.a.mark(function e(t,n){var r,a,s,i;return c.a.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return r=t.payload.file,a=n.call,s=n.put,e.next=4,a(S,r);case 4:return i=e.sent,e.next=7,s({type:"save",payload:{gasSelectInfoByOrderPurchase:i}});case 7:case"end":return e.stop()}},e,this)}),inquireOrderInfoByOrderConfirm:c.a.mark(function e(t,n){var r,a,s,i;return c.a.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return r=t.payload.file,a=n.call,s=n.put,e.next=4,a(g,r);case 4:return i=e.sent,e.next=7,s({type:"save",payload:{orderInfoByOrderConfirm:i}});case 7:case"end":return e.stop()}},e,this)}),inquireSiteSelectInfoByOrderConfirm:c.a.mark(function e(t,n){var r,a,s,i;return c.a.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return r=t.payload.file,a=n.call,s=n.put,e.next=4,a(B,r);case 4:return i=e.sent,e.next=7,s({type:"save",payload:{siteSelectInfoByOrderConfirm:i}});case 7:case"end":return e.stop()}},e,this)}),inquireGasSelectInfoByOrderConfirm:c.a.mark(function e(t,n){var r,a,s,i;return c.a.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return r=t.payload.file,a=n.call,s=n.put,e.next=4,a(I,r);case 4:return i=e.sent,e.next=7,s({type:"save",payload:{gasSelectInfoByOrderConfirm:i}});case 7:case"end":return e.stop()}},e,this)}),fetchClientSelect:c.a.mark(function e(t,n){var r,a,s,i;return c.a.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return t.payload,r=n.call,a=n.put,e.next=4,r(O);case 4:return s=e.sent,i=s.data,e.next=8,a({type:"save",payload:{clientSelectByCreatePlan:i.data.list}});case 8:case"end":return e.stop()}},e,this)}),inquireSiteSelectInfoByCreatePlan:c.a.mark(function e(t,n){var r,a,s,i,o;return c.a.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return r=t.payload.id,a=n.call,s=n.put,e.next=4,a(d,r);case 4:return i=e.sent,o=i.data,e.next=8,s({type:"save",payload:{siteSelectByCreatePlan:o.data.list}});case 8:case"end":return e.stop()}},e,this)}),submitCreatePlan:c.a.mark(function e(t,n){var r,a,s,o;return c.a.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return r=t.payload.form,a=n.call,n.put,e.next=4,a(f,r);case 4:s=e.sent,o=s.data,1===parseInt(o.code,10)?i["a"].success(o.msg):i["a"].error(o.msg);case 7:case"end":return e.stop()}},e,this)})},reducers:{save(e,t){return a()({},e,{},t.payload)}}}}}]);