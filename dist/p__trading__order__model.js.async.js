(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([[18],{"+GX8":function(e,t,a){"use strict";a.r(t);var r=a("MVZn"),n=a.n(r),s=(a("miYZ"),a("tsqr")),c=a("o0o1"),i=a.n(c),o=a("y0tt"),u=a("mjZG");function p(e){var t=e.page,a=e.status,r=new FormData;return r.append("page",t),r.append("limit",u["f"]),r.append("status",a),Object(o["a"])(`${u["c"]}/index/order/page`,{method:"POST",body:r})}function d(e){var t=new FormData;return t.append(e.filename,e.file),Object(o["a"])(e.action,{method:"POST",body:t})}function l(e){var t=new FormData;return t.append("customer_id",e),Object(o["a"])(`${u["c"]}/index/site/list`,{method:"POST",body:t})}function f(e){var t=new FormData;return t.append("sites",JSON.stringify(e)),Object(o["a"])(`${u["c"]}/index/order/customer-order-add`,{method:"POST",body:t})}function h(e){var t=new FormData;return Object.keys(e).forEach((a,r)=>{t.append(a,e[a]||"")}),Object(o["a"])(`${u["c"]}/index/order/dispatch`,{method:"POST",body:t})}function y(){return Object(o["a"])(`${u["c"]}/index/logistics/list`,{method:"GET"})}function m(e){var t=new FormData;return Object.keys(e).forEach((a,r)=>{t.append(a,e[a]||"")}),Object(o["a"])(`${u["c"]}/index/driver/driver-car-ganged-list`,{method:"POST",body:t})}function v(){return Object(o["a"])(`${u["c"]}/index/supp/list`,{method:"GET"})}function w(e){var t=new FormData;return t.append("supp_id",e),Object(o["a"])(`${u["c"]}/index/goods/list`,{method:"POST",body:t})}function x(e){var t=new FormData;return Object.keys(e).forEach((a,r)=>{t.append(a,e[a]||"")}),Object(o["a"])(`${u["c"]}/index/order/purchase`,{method:"POST",body:t})}function g(e){var t=new FormData;return t.append("id",e),Object(o["a"])(`${u["c"]}/index/order/pre-set-pic`,{method:"POST",body:t})}function O(e){var t=new FormData;return Object.keys(e).forEach((a,r)=>{t.append(a,e[a]||"")}),Object(o["a"])(`${u["c"]}/index/order/set-load-pic`,{method:"POST",body:t})}function S(e){var t=new FormData;return Object.keys(e).forEach((a,r)=>{t.append(a,e[a]||"")}),Object(o["a"])(`${u["c"]}/index/order/set-unload-pic`,{method:"POST",body:t})}function B(){return fetch("/api/client-select").then(e=>e.json()).then(e=>{return e})}function I(){return fetch("/api/site-select").then(e=>e.json()).then(e=>{return e})}function b(){return fetch("/api/site-select").then(e=>e.json()).then(e=>{return e})}function _(){return fetch("/api/site-select").then(e=>e.json()).then(e=>{return e})}function P(){return fetch("/api/site-select").then(e=>e.json()).then(e=>{return e})}function k(){return fetch("/api/site-select").then(e=>e.json()).then(e=>{return e})}function j(){return fetch("/api/site-select").then(e=>e.json()).then(e=>{return e})}function C(){return Object(o["a"])(`${u["c"]}/index/cust/list`,{method:"GET"})}t["default"]={namespace:"order",state:{orderList:[],orderPage:1,orderTotal:0,orderStatus:"",currentOrderNum:0,orderMapDetail:{client:[{name:"\u5c71\u4e1c\u5b9e\u534e\u5929\u7136\u6c14",contact:"\u5f20\u4e09",contact_phone:"18989898989",saler_num:"20.000",saler_price:"4500.00",saler_total:"90000.00",type:"\u9884\u4ed8\u6b3e"}],site:[{name:"\u4e2d\u77f3\u6cb9\u6d4e\u5357\u7b2c\u4e03\u52a0\u6c14\u7ad9\uff08\u52a0\u6c14\u7ad9\uff09",contact:"\u5f20\u4e09",contact_phone:"18989898989",province:"\u5c71\u4e1c\u7701",city:"\u6d4e\u5357\u5e02",area:"\u69d0\u836b\u533a",address:"\u738b\u5e9c\u4e95\u516c\u4ea4\u505c\u8f66\u573a",plan_num:"20.000",plan_time:"2019-02-02 14:00",site_type:"\u52a0\u6c14\u7ad9"}],supplier:{name:"\u4e2d\u77f3\u6cb9\u5c71\u4e1c\u6606\u4ed1",contact:"\u5f20\u4e09",contact_phone:"18989898989",purchase_num:"20.000",purchase_price:"4500.00",purchase_total:"90000.00",type:"\u9884\u4ed8\u6b3e"},gas:{name:"\u6606\u4ed1\u9ec4\u5188\u6db2\u5316\u5929\u7136\u6c14",contact:"\u5f20\u4e09",contact_phone:"18989898989",origin:"\u8463\u5bb6\u53e3\u6c14",province:"\u5c71\u4e1c\u7701",city:"\u6d4e\u5357\u5e02",area:"\u69d0\u836b\u533a",address:"\u738b\u5e9c\u4e95\u516c\u4ea4\u505c\u8f66\u573a",logistics_type:"\u6211\u65b9\u914d\u9001",plan_time:"2019-02-02 14:01"},logistics:{name:"\u4e2d\u77f3\u6cb9\u5c71\u4e1c\u6606\u4ed1",contact:"\u5f20\u4e09",contact_phone:"18989898989",distance:"200.00",log_price:"15.00",log_total:"3000.00",type:"\u9884\u4ed8\u6b3e"}},clientSelectInfoBySalesBilling:{},siteSelectInfoBySalesBilling:{},logisticsSelectByLogisticsScheduling:{},supplierSelectInfoByOrderPurchase:{},gasSelectInfoByOrderPurchase:{},orderInfoByOrderConfirm:{},siteSelectInfoByOrderConfirm:{},gasSelectInfoByOrderConfirm:{},clientSelectByCreatePlan:[],siteSelectByCreatePlan:[],logisticsDriverList:[],logisticsCarHeadList:[],logisticsCarBodyList:[],suppInfoByOrderPurchase:[],gasInfoByOrderPurchase:[],poundInfoByUpload:{},order_modify_id:"",order_modify_type:"",order_modify_visible:!1},subscriptions:{setup(e){e.dispatch;var t=e.history;return t.listen(e=>{e.pathname,e.query})}},effects:{orderModifyOpen:i.a.mark(function e(t,a){var r,n,s,c,o;return i.a.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return r=t.payload,n=r.id,s=r.type,c=r.visible,a.call,o=a.put,e.next=4,o({type:"save",payload:{order_modify_id:n,order_modify_type:s,order_modify_visible:c}});case 4:case"end":return e.stop()}},e,this)}),fetchOrderList:i.a.mark(function e(t,a){var r,n,c,o,u,d,l,f,h;return i.a.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return r=t.payload,n=r.page,c=void 0===n?1:n,o=r.status,u=void 0===o?"":o,d=a.call,l=a.put,e.next=4,d(p,{page:c,status:u});case 4:if(f=e.sent,h=f.data,1!==parseInt(h.code,10)){e.next=11;break}return e.next=9,l({type:"save",payload:{orderList:h.data.list,orderPage:parseInt(c,10),orderTotal:parseInt(h.data.total,10),orderStatus:u}});case 9:e.next=12;break;case 11:s["a"].error(h.msg);case 12:case"end":return e.stop()}},e,this)}),upLoadExcel:i.a.mark(function e(t,a){var r,n,c,o;return i.a.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return r=t.payload.file,n=a.call,e.next=4,n(d,r);case 4:c=e.sent,o=c.data;try{1===parseInt(o.code,10)?s["a"].success(`\u5bfc\u5165\u6210\u529f ${o.num.success_num} \u6761`):s["a"].error(o.msg)}catch(e){s["a"].error(e)}case 7:case"end":return e.stop()}},e,this)}),inquireClientSelectInfoBySalesBilling:i.a.mark(function e(t,a){var r,n,s,c;return i.a.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return r=t.payload.file,n=a.call,s=a.put,e.next=4,n(B,r);case 4:return c=e.sent,e.next=7,s({type:"save",payload:{clientSelectInfoBySalesBilling:c}});case 7:case"end":return e.stop()}},e,this)}),inquireSiteSelectInfoBySalesBilling:i.a.mark(function e(t,a){var r,n,s,c;return i.a.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return r=t.payload.file,n=a.call,s=a.put,e.next=4,n(I,r);case 4:return c=e.sent,e.next=7,s({type:"save",payload:{siteSelectInfoBySalesBilling:c}});case 7:case"end":return e.stop()}},e,this)}),inquireLogisticsSelectByLogisticsScheduling:i.a.mark(function e(t,a){var r,n,s,c;return i.a.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return t.payload,r=a.call,n=a.put,e.next=4,r(y);case 4:return s=e.sent,c=s.data,e.next=8,n({type:"save",payload:{logisticsSelectByLogisticsScheduling:c.data.list}});case 8:case"end":return e.stop()}},e,this)}),inquireLogisticsInfoByLogisticsScheduling:i.a.mark(function e(t,a){var r,n,s,c,o,u;return i.a.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return r=t.payload,n=a.call,s=a.put,e.next=4,n(m,r);case 4:return c=e.sent,o=c.data,u=r.car_head_id?"logisticsCarBodyList":r.driver_id?"logisticsCarHeadList":"logisticsDriverList",e.next=9,s({type:"save",payload:{[u]:o.data.list}});case 9:case"end":return e.stop()}},e,this)}),inquireSuppInfoByOrderPurchase:i.a.mark(function e(t,a){var r,n,s,c;return i.a.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return t.payload,r=a.call,n=a.put,e.next=4,r(v);case 4:return s=e.sent,c=s.data,e.next=8,n({type:"save",payload:{suppInfoByOrderPurchase:c.data.list}});case 8:case"end":return e.stop()}},e,this)}),inquireGasInfoByOrderPurchase:i.a.mark(function e(t,a){var r,n,s,c,o;return i.a.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return r=t.payload.id,n=a.call,s=a.put,e.next=4,n(w,r);case 4:return c=e.sent,o=c.data,e.next=8,s({type:"save",payload:{gasInfoByOrderPurchase:o.data.list}});case 8:case"end":return e.stop()}},e,this)}),purchase:i.a.mark(function e(t,a){var r,n,c,o;return i.a.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return r=t.payload.form,n=a.call,a.put,e.next=4,n(x,r);case 4:c=e.sent,o=c.data,1===parseInt(o.code,10)?s["a"].success(o.msg):s["a"].error(o.msg);case 7:case"end":return e.stop()}},e,this)}),inquireSupplierSelectInfoByOrderPurchase:i.a.mark(function e(t,a){var r,n,s,c;return i.a.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return r=t.payload.file,n=a.call,s=a.put,e.next=4,n(b,r);case 4:return c=e.sent,e.next=7,s({type:"save",payload:{supplierSelectInfoByOrderPurchase:c}});case 7:case"end":return e.stop()}},e,this)}),inquireGasSelectInfoByOrderPurchase:i.a.mark(function e(t,a){var r,n,s,c;return i.a.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return r=t.payload.file,n=a.call,s=a.put,e.next=4,n(_,r);case 4:return c=e.sent,e.next=7,s({type:"save",payload:{gasSelectInfoByOrderPurchase:c}});case 7:case"end":return e.stop()}},e,this)}),inquireOrderInfoByOrderConfirm:i.a.mark(function e(t,a){var r,n,s,c;return i.a.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return r=t.payload.file,n=a.call,s=a.put,e.next=4,n(P,r);case 4:return c=e.sent,e.next=7,s({type:"save",payload:{orderInfoByOrderConfirm:c}});case 7:case"end":return e.stop()}},e,this)}),inquireSiteSelectInfoByOrderConfirm:i.a.mark(function e(t,a){var r,n,s,c;return i.a.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return r=t.payload.file,n=a.call,s=a.put,e.next=4,n(k,r);case 4:return c=e.sent,e.next=7,s({type:"save",payload:{siteSelectInfoByOrderConfirm:c}});case 7:case"end":return e.stop()}},e,this)}),inquireGasSelectInfoByOrderConfirm:i.a.mark(function e(t,a){var r,n,s,c;return i.a.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return r=t.payload.file,n=a.call,s=a.put,e.next=4,n(j,r);case 4:return c=e.sent,e.next=7,s({type:"save",payload:{gasSelectInfoByOrderConfirm:c}});case 7:case"end":return e.stop()}},e,this)}),fetchClientSelect:i.a.mark(function e(t,a){var r,n,s,c;return i.a.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return t.payload,r=a.call,n=a.put,e.next=4,r(C);case 4:return s=e.sent,c=s.data,e.next=8,n({type:"save",payload:{clientSelectByCreatePlan:c.data.list}});case 8:case"end":return e.stop()}},e,this)}),inquireSiteSelectInfoByCreatePlan:i.a.mark(function e(t,a){var r,n,s,c,o;return i.a.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return r=t.payload.id,n=a.call,s=a.put,e.next=4,n(l,r);case 4:return c=e.sent,o=c.data,e.next=8,s({type:"save",payload:{siteSelectByCreatePlan:o.data.list}});case 8:case"end":return e.stop()}},e,this)}),submitCreatePlan:i.a.mark(function e(t,a){var r,n,c,o;return i.a.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return r=t.payload.form,n=a.call,a.put,e.next=4,n(f,r);case 4:c=e.sent,o=c.data,1===parseInt(o.code,10)?s["a"].success(o.msg):s["a"].error(o.msg);case 7:case"end":return e.stop()}},e,this)}),schedulingLogistics:i.a.mark(function e(t,a){var r,n,c,o;return i.a.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return r=t.payload.form,n=a.call,a.put,e.next=4,n(h,r);case 4:c=e.sent,o=c.data,1===parseInt(o.code,10)?s["a"].success(o.msg):s["a"].error(o.msg);case 7:case"end":return e.stop()}},e,this)}),fetchPoundInfo:i.a.mark(function e(t,a){var r,n,c,o,u;return i.a.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return r=t.payload.id,n=a.call,c=a.put,e.next=4,n(g,r);case 4:if(o=e.sent,u=o.data,1!==parseInt(u.code,10)){e.next=11;break}return e.next=9,c({type:"save",payload:{poundInfoByUpload:u.data.info}});case 9:e.next=12;break;case 11:s["a"].error(u.msg);case 12:case"end":return e.stop()}},e,this)}),upLoadingPound:i.a.mark(function e(t,a){var r,n,c,o;return i.a.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return r=t.payload,n=a.call,e.next=4,n(O,r);case 4:c=e.sent,o=c.data,1===parseInt(o.code,10)?s["a"].success(o.msg):s["a"].error(o.msg);case 7:case"end":return e.stop()}},e,this)}),unLoadingPound:i.a.mark(function e(t,a){var r,n,c,o;return i.a.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return r=t.payload,n=a.call,e.next=4,n(S,r);case 4:c=e.sent,o=c.data,1===parseInt(o.code,10)?s["a"].success(o.msg):s["a"].error(o.msg);case 7:case"end":return e.stop()}},e,this)})},reducers:{save(e,t){return n()({},e,{},t.payload)}}}}}]);