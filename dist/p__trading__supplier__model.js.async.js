(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([[25],{TCwS:function(e,a,t){"use strict";t.r(a);var r=t("MVZn"),n=t.n(r),s=t("o0o1"),o=t.n(s),p=(t("miYZ"),t("tsqr")),c=t("y0tt"),i=t("mjZG");function u(e){var a=e.page,t=e.supp_name,r=new FormData;return r.append("page",a),r.append("limit",i["f"]),r.append("supp_name",t),Object(c["a"])(`${i["c"]}/index/supp/page`,{method:"POST",body:r})}function d(e){var a=new FormData;return Object.keys(e).forEach((t,r)=>{a.append(t,e[t]||"")}),Object(c["a"])(`${i["c"]}/index/supp/add-supp`,{method:"POST",body:a})}function l(e){var a=new FormData;return Object.keys(e).forEach((t,r)=>{a.append(t,e[t]||"")}),Object(c["a"])(`${i["c"]}/index/supp/update-supp`,{method:"POST",body:a})}function f(e){var a=new FormData;return Object.keys(e).forEach((t,r)=>{a.append(t,e[t]||"")}),Object(c["a"])(`${i["c"]}/index/supp/update-contact`,{method:"POST",body:a})}function m(e){var a=new FormData;return a.append("id",e),Object(c["a"])(`${i["c"]}/index/supp/supp-info`,{method:"POST",body:a})}function h(e){var a=new FormData;return Object.keys(e).forEach((t,r)=>{a.append(t,e[t]||"")}),Object(c["a"])(`${i["c"]}/index/supp/set-finance`,{method:"POST",body:a})}function g(e){var a=e.page,t=e.supp_id,r=e.goods_name,n=new FormData;return n.append("page",a),n.append("limit",i["f"]),n.append("supp_id",t),n.append("goods_name",r),Object(c["a"])(`${i["c"]}/index/goods/page`,{method:"POST",body:n})}function w(e){var a=new FormData;return Object.keys(e).forEach((t,r)=>{a.append(t,e[t]||"")}),Object(c["a"])(`${i["c"]}/index/goods/add-goods`,{method:"POST",body:a})}function y(e){var a=new FormData;return Object.keys(e).forEach((t,r)=>{a.append(t,e[t]||"")}),Object(c["a"])(`${i["c"]}/index/goods/update-goods`,{method:"POST",body:a})}function x(e){var a=new FormData;return a.append("id",e),Object(c["a"])(`${i["c"]}/index/goods/goods-info`,{method:"POST",body:a})}function v(e){var a=new FormData;return a.append("id",e),Object(c["a"])(`${i["c"]}/index/goods/goods-info`,{method:"POST",body:a})}function b(e){var a=new FormData;return a.append(e.filename,e.file),Object(c["a"])(e.action,{method:"POST",body:a})}function S(e){var a=e.file,t=e.id,r=new FormData;return r.append(a.filename,a.file),r.append("id",t),Object(c["a"])(a.action,{method:"POST",body:r})}function k(e){var a=e.page,t=e.supplier_id,r=new FormData;return r.append("page",a),r.append("limit",i["f"]),r.append("supplier_id",t),Object(c["a"])(`${i["c"]}/index/supp/order-page`,{method:"POST",body:r})}a["default"]={namespace:"supplier",state:{supplierInfoCurrentTabs:"1",supplierList:[],supplierPage:1,supplierTotal:0,currentSupplierInfo:{},supp_name:"",gasSourceList:[],gasSourcePage:1,gasSourceTotal:0,currentGasSourceInfo:{},report_url:"",file_name:"",goods_name:"",salesHistoryList:[],salesHistoryPage:1,salesHistoryTotal:0,reconciliationHistoryList:[{id:"1",kh:"\u80e1\u5f66\u658c12",age:32,address:"\u897f\u6e56\u533a\u6e56\u5e95\u516c\u56ed1\u53f7"},{id:"2",kh:"\u80e1\u5f66\u7956",age:42,address:"\u897f\u6e56\u533a\u6e56\u5e95\u516c\u56ed1\u53f7"}],reconciliationHistoryPage:1,reconciliationHistoryTotal:0},subscriptions:{setup(e){e.dispatch;var a=e.history;return a.listen(e=>{e.pathname,e.query})}},effects:{fetchSupplierList:o.a.mark(function e(a,t){var r,n,s,c,i,d,l,f,m;return o.a.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return r=a.payload,n=r.page,s=void 0===n?1:n,c=r.supp_name,i=void 0===c?"":c,d=t.call,l=t.put,e.next=4,d(u,{page:s,supp_name:i});case 4:if(f=e.sent,m=f.data,1!==parseInt(m.code,10)){e.next=11;break}return e.next=9,l({type:"save",payload:{supplierList:m.data.list,supplierPage:parseInt(s,10),supplierTotal:parseInt(m.data.total,10),supp_name:i}});case 9:e.next=12;break;case 11:p["a"].error(m.msg);case 12:case"end":return e.stop()}},e,this)}),insertSupplier:o.a.mark(function e(a,t){var r,n,s,c;return o.a.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return r=a.payload.form,n=t.call,e.next=4,n(d,r);case 4:s=e.sent,c=s.data,1===parseInt(c.code,10)?p["a"].success(c.msg):p["a"].error(c.msg);case 7:case"end":return e.stop()}},e,this)}),updateSupplierInfo:o.a.mark(function e(a,t){var r,n,s,c;return o.a.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return r=a.payload.form,n=t.call,e.next=4,n(l,r);case 4:s=e.sent,c=s.data,1===parseInt(c.code,10)?p["a"].success(c.msg):p["a"].error(c.msg);case 7:case"end":return e.stop()}},e,this)}),updateSupplierContact:o.a.mark(function e(a,t){var r,n,s,c;return o.a.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return r=a.payload.form,n=t.call,e.next=4,n(f,r);case 4:s=e.sent,c=s.data,1===parseInt(c.code,10)?p["a"].success(c.msg):p["a"].error(c.msg);case 7:case"end":return e.stop()}},e,this)}),getSupplierInfoById:o.a.mark(function e(a,t){var r,n,s,c,i;return o.a.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return r=a.payload.id,n=t.call,s=t.put,e.next=4,n(m,r);case 4:if(c=e.sent,i=c.data,1!==parseInt(i.code,10)){e.next=11;break}return e.next=9,s({type:"save",payload:{currentSupplierInfo:i.data.info}});case 9:e.next=12;break;case 11:p["a"].error(i.msg);case 12:case"end":return e.stop()}},e,this)}),setSupplierFinance:o.a.mark(function e(a,t){var r,n,s,c;return o.a.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return r=a.payload,n=t.call,e.next=4,n(h,r);case 4:s=e.sent,c=s.data,1===parseInt(c.code,10)?p["a"].success(c.msg):p["a"].error(c.msg);case 7:case"end":return e.stop()}},e,this)}),fetchGasSourceList:o.a.mark(function e(a,t){var r,n,s,c,i,u,d,l,f,m;return o.a.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return r=a.payload,n=r.page,s=void 0===n?1:n,c=r.supp_id,i=r.goods_name,u=void 0===i?"":i,d=t.call,l=t.put,e.next=4,d(g,{page:s,supp_id:c,goods_name:u});case 4:if(f=e.sent,m=f.data,1!==parseInt(m.code,10)){e.next=11;break}return e.next=9,l({type:"save",payload:{gasSourceList:m.data.list,gasSourcePage:parseInt(s,10),gasSourceTotal:parseInt(m.data.total,10),goods_name:u}});case 9:e.next=12;break;case 11:p["a"].error(m.msg);case 12:case"end":return e.stop()}},e,this)}),insertGasSource:o.a.mark(function e(a,t){var r,n,s,c;return o.a.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return r=a.payload.form,n=t.call,e.next=4,n(w,r);case 4:s=e.sent,c=s.data,1===parseInt(c.code,10)?p["a"].success(c.msg):p["a"].error(c.msg);case 7:case"end":return e.stop()}},e,this)}),updateGasSourceInfo:o.a.mark(function e(a,t){var r,n,s,c;return o.a.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return r=a.payload.form,n=t.call,e.next=4,n(y,r);case 4:s=e.sent,c=s.data,1===parseInt(c.code,10)?p["a"].success(c.msg):p["a"].error(c.msg);case 7:case"end":return e.stop()}},e,this)}),inquireGasSourceInfoById:o.a.mark(function e(a,t){var r,n,s,c,i;return o.a.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return r=a.payload.id,n=t.call,s=t.put,e.next=4,n(x,r);case 4:if(c=e.sent,i=c.data,1!==parseInt(i.code,10)){e.next=11;break}return e.next=9,s({type:"save",payload:{currentGasSourceInfo:i.data.info}});case 9:e.next=12;break;case 11:p["a"].error(i.msg);case 12:case"end":return e.stop()}},e,this)}),deleteGasSource:o.a.mark(function e(a,t){var r,n,s,c;return o.a.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return r=a.payload.id,n=t.call,e.next=4,n(v,r);case 4:s=e.sent,c=s.data,1===parseInt(c.code,10)?p["a"].success("\u5df2\u79fb\u9664"):p["a"].error(c.msg);case 7:case"end":return e.stop()}},e,this)}),upLoadExcel:o.a.mark(function e(a,t){var r,n,s,c;return o.a.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return r=a.payload.file,n=t.call,e.next=4,n(b,r);case 4:s=e.sent,c=s.data;try{1===parseInt(c.code,10)?p["a"].success(`\u5bfc\u5165\u6210\u529f ${c.num.success_num} \u6761`):p["a"].error(c.msg)}catch(e){p["a"].error(e)}case 7:case"end":return e.stop()}},e,this)}),postReport:o.a.mark(function e(a,t){var r,n,s,p,c,i,u;return o.a.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return r=a.payload,n=r.file,s=r.id,p=t.call,c=t.put,e.next=4,p(S,{file:n,id:s});case 4:if(i=e.sent,u=i.data,1!==u.code){e.next=11;break}return n.onProgress({percent:100}),n.onSuccess(),e.next=11,c({type:"save",payload:{report_url:u.data.report_url,file_name:u.data.filename}});case 11:case"end":return e.stop()}},e,this)}),fetchSalesHistoryList:o.a.mark(function e(a,t){var r,n,s,c,i,u,d,l;return o.a.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return r=a.payload,n=r.page,s=void 0===n?1:n,c=r.supplier_id,i=t.call,u=t.put,e.next=4,i(k,{page:s,supplier_id:c});case 4:if(d=e.sent,l=d.data,1!==parseInt(l.code,10)){e.next=11;break}return e.next=9,u({type:"save",payload:{salesHistoryList:l.data.list,salesHistoryPage:parseInt(s,10),salesHistoryTotal:parseInt(l.data.total,10)}});case 9:e.next=12;break;case 11:p["a"].error(l.msg);case 12:case"end":return e.stop()}},e,this)})},reducers:{save(e,a){return n()({},e,{},a.payload)}}}}}]);