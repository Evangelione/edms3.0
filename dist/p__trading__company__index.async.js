(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([[9],{IBFg:function(e,a,t){"use strict";t.r(a);t("IzEo");var n,l,r,c,p=t("bx4M"),m=(t("14J3"),t("BMrR")),o=(t("+L6B"),t("2/Rp")),i=(t("6UJt"),t("DFOY")),s=(t("5NDa"),t("5rEg")),d=(t("jCWc"),t("kPKH")),y=(t("Pwec"),t("CtXQ")),E=(t("y8nQ"),t("Vl3Y")),u=(t("OaEy"),t("2fM7")),h=(t("Znn+"),t("ZTPi")),x=t("q1tI"),g=t.n(x),f=t("MuoO"),_=t("mjZG"),b=t("bNTS"),C=t.n(b),v=h["a"].TabPane,w=u["a"].Option,I=(n=Object(f["connect"])(e=>{var a=e.global,t=e.company,n=e.loading;return{global:a,company:t,loading:n.models.company}}),l=E["a"].create(),n(r=l((c=class extends x["Component"]{constructor(e){super(e),this.fetchCompanyInfo=(()=>{this.props.dispatch({type:"company/fetchCompanyInfo",payload:{}})}),this.loadData=(e=>{var a=e[e.length-1];a.loading=!0,this.props.dispatch({type:"global/inquireCascadeOptions",payload:{module:"company",district_name:a.value,targetOption:a}}).then(()=>{})}),this.handleSubmit=(e=>{e&&e.preventDefault(),this.props.form.validateFields((e,a)=>{if(!e){var t={province:a.area_arr[0],city:a.area_arr[1],area:a.area_arr[2]||""};delete a.area_arr,Object.assign(a,t),this.props.dispatch({type:"company/updateCompanyInfo",payload:{form:a}}).then(()=>{this.setState({modifying:!1}),this.fetchCompanyInfo()})}})}),this.modify=(()=>{this.setState({modifying:!0});var e=this.props.company.currentCompanyInfo;this.props.dispatch({type:"global/inquireCascadeOptionsAll",payload:{module:"company",province:e.province,city:e.city}})}),this.state={modifying:!1}}componentWillMount(){this.fetchCompanyInfo()}render(){var e=this.state.modifying,a=this.props,t=a.form,n=a.company,l=a.global,r=a.loading,c=n.currentCompanyInfo,x=l.cascadeOptions,f=t.getFieldDecorator,b=c.province+c.city+c.area||"";return g.a.createElement(g.a.Fragment,null,g.a.createElement("div",{className:"toolbar"},g.a.createElement(h["a"],{defaultActiveKey:"1",style:{paddingTop:10,paddingBottom:30}},g.a.createElement(v,{tab:"\u516c\u53f8\u4fe1\u606f",key:"1"},g.a.createElement(m["a"],{style:{paddingTop:40}},g.a.createElement(d["a"],{span:8},g.a.createElement(p["a"],{title:g.a.createElement(g.a.Fragment,null,g.a.createElement(y["a"],{type:"idcard",className:"font-primary-color",style:{marginRight:20,marginTop:2,fontSize:24}}),g.a.createElement("span",{style:{verticalAlign:"top"}},"\u57fa\u672c\u4fe1\u606f")),bordered:!1},g.a.createElement(E["a"],{onSubmit:this.handleSubmit},g.a.createElement(m["a"],{className:C.a["info-list"]},g.a.createElement(d["a"],{span:8,xxl:7},g.a.createElement("i",null,"\u7eb3\u7a0e\u4eba\u8bc6\u522b\u53f7")),g.a.createElement(d["a"],{span:16,xxl:17},c.tax_number),g.a.createElement(d["a"],{span:8,xxl:7},g.a.createElement("i",null,"\u516c\u53f8\u5168\u79f0")),g.a.createElement(d["a"],{span:16,xxl:17},e?g.a.createElement(E["a"].Item,{wrapperCol:{span:16}},f("company_full_name",{rules:[{required:!0}],initialValue:c.company_full_name})(g.a.createElement(s["a"],{placeholder:"\u8bf7\u8f93\u5165\u516c\u53f8\u5168\u79f0"}))):c.company_full_name),g.a.createElement(d["a"],{span:8,xxl:7},g.a.createElement("i",null,"\u516c\u53f8\u7b80\u79f0")),g.a.createElement(d["a"],{span:16,xxl:17},e?g.a.createElement(E["a"].Item,{wrapperCol:{span:16}},f("company_name",{rules:[{required:!0}],initialValue:c.company_name})(g.a.createElement(s["a"],{placeholder:"\u8bf7\u8f93\u5165\u516c\u53f8\u7b80\u79f0"}))):c.company_name),g.a.createElement(d["a"],{span:8,xxl:7},g.a.createElement("i",null,"\u516c\u53f8\u7c7b\u578b")),g.a.createElement(d["a"],{span:16,xxl:17},e?g.a.createElement(E["a"].Item,{wrapperCol:{span:16}},f("company_flow",{rules:[{required:!0}],initialValue:c.company_flow+""})(g.a.createElement(u["a"],{style:{width:"100%"}},g.a.createElement(w,{value:"1"},"\u8d38\u6613\u5546"),g.a.createElement(w,{value:"2"},"\u96f6\u552e\u5546")))):_["d"][c.company_flow-1]),g.a.createElement(d["a"],{span:8,xxl:7},g.a.createElement("i",null,"\u6cd5\u4eba\u4ee3\u8868")),g.a.createElement(d["a"],{span:16,xxl:17},e?g.a.createElement(E["a"].Item,{wrapperCol:{span:16}},f("legal_person",{rules:[{required:!0}],initialValue:c.legal_person})(g.a.createElement(s["a"],{placeholder:"\u8bf7\u8f93\u5165\u6cd5\u4eba\u4ee3\u8868"}))):c.legal_person),g.a.createElement(d["a"],{span:8,xxl:7},g.a.createElement("i",null,"\u7701\u5e02\u533a\u53bf")),g.a.createElement(d["a"],{span:16,xxl:17},e?g.a.createElement(E["a"].Item,{wrapperCol:{span:16}},f("area_arr",{initialValue:[c.province,c.city,c.area]})(g.a.createElement(i["a"],{options:x,loadData:this.loadData,placeholder:"\u8bf7\u9009\u62e9\u7701\u5e02\u533a\u53bf"}))):b),g.a.createElement(d["a"],{span:8,xxl:7},g.a.createElement("i",null,"\u8be6\u7ec6\u5730\u5740")),g.a.createElement(d["a"],{span:16,xxl:17},e?g.a.createElement(E["a"].Item,{wrapperCol:{span:16}},f("company_address",{initialValue:c.company_address})(g.a.createElement(s["a"],{placeholder:"\u8bf7\u8f93\u5165\u8be6\u7ec6\u5730\u5740"}))):c.company_address),g.a.createElement(d["a"],{span:8,xxl:7},g.a.createElement("i",null,"\u5f00\u6237\u94f6\u884c")),g.a.createElement(d["a"],{span:16,xxl:17},e?g.a.createElement(E["a"].Item,{wrapperCol:{span:16}},f("bank",{initialValue:c.bank})(g.a.createElement(s["a"],{placeholder:"\u8bf7\u9009\u62e9\u5f00\u6237\u94f6\u884c"}))):c.bank),g.a.createElement(d["a"],{span:8,xxl:7},g.a.createElement("i",null,"\u94f6\u884c\u8d26\u53f7")),g.a.createElement(d["a"],{span:16,xxl:17},e?g.a.createElement(E["a"].Item,{wrapperCol:{span:16}},f("bank_account",{initialValue:c.bank_account})(g.a.createElement(s["a"],{placeholder:"\u8bf7\u8f93\u5165\u94f6\u884c\u8d26\u53f7"}))):c.bank_account),g.a.createElement(d["a"],{span:24,style:{textAlign:"center",marginTop:20,marginBottom:40}},e?g.a.createElement(g.a.Fragment,null,g.a.createElement(o["a"],{type:"primary",htmlType:"submit",loading:r},"\u786e\u5b9a"),g.a.createElement(o["a"],{className:"red-btn",style:{marginLeft:20},onClick:()=>this.setState({modifying:!1})},"\u53d6\u6d88")):g.a.createElement("div",null,g.a.createElement(o["a"],{type:"primary",onClick:this.modify},"\u7f16\u8f91"))))))))))))}},r=c))||r)||r);a["default"]=I}}]);