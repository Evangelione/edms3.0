(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([[13],{bVsR:function(e,t,a){"use strict";a.r(t);a("DjyN");var i,l,n,s=a("NUBc"),o=(a("g9YV"),a("wCAj")),r=(a("iQDF"),a("+eQT")),c=(a("+L6B"),a("2/Rp")),p=(a("OaEy"),a("2fM7")),d=a("q1tI"),h=a.n(d),m=a("MuoO"),g=a("ZJHh"),u=a("usdK"),y=a("mjZG"),E=p["a"].Option,v=(i=Object(m["connect"])(e=>{var t=e.logistics,a=e.loading;return{logistics:t,loading:a.models.logistics}}),i((n=class extends d["Component"]{constructor(){super(...arguments),this.state={startValue:null,endValue:null,endOpen:!1,selectedRowKeys:[]},this.disabledStartDate=(e=>{var t=this.state.endValue;return!(!e||!t)&&e.valueOf()>t.valueOf()}),this.disabledEndDate=(e=>{var t=this.state.startValue;return!(!e||!t)&&e.valueOf()<=t.valueOf()}),this.onChange=((e,t)=>{this.setState({[e]:t})}),this.onStartChange=(e=>{this.onChange("startValue",e)}),this.onEndChange=(e=>{this.onChange("endValue",e)}),this.handleStartOpenChange=(e=>{e||this.setState({endOpen:!0})}),this.handleEndOpenChange=(e=>{this.setState({endOpen:e})}),this.confirmReconciliation=(e=>{this.props.dispatch({type:"logistics/confirmReconciliation",payload:{id:e}}).then(()=>{this.props.dispatch({type:"logistics/fetchReconciliationDetail",payload:{id:this.props.location.query.id}})})}),this.payment=(e=>{this.props.dispatch({type:"logistics/payment",payload:{id:e}}).then(()=>{this.props.dispatch({type:"logistics/fetchReconciliationDetail",payload:{id:this.props.location.query.id}})})}),this.billing=(e=>{this.props.dispatch({type:"logistics/billing",payload:{id:e}}).then(()=>{this.props.dispatch({type:"logistics/fetchReconciliationDetail",payload:{id:this.props.location.query.id}})})}),this.pageChange=(e=>{this.props.dispatch({type:"logistics/fetchReconciliationDetail",payload:{id:this.props.location.query.id,page:e}})})}componentDidMount(){console.log(this.props),this.props.dispatch({type:"logistics/fetchLogisticsCondition",payload:{logistics_id:this.props.location.query.id}}).then(()=>{var e=this.props.logistics.logisticsCondition;console.log(e),this.setState({supp_goods_id:e.goods[0].id,cust_site_id:e.sites[0].id}),this.props.dispatch({type:"logistics/fetchReconciliationDetail",payload:{id:this.props.location.query.id}})})}render(){var e=this.props.location.query.company,t=this.state,i=t.startValue,l=t.endValue,n=t.endOpen,d=this.props,m=d.logistics,v=d.loading,C=m.detailHistoryList,f=m.detailHistoryPage,b=m.detailHistoryTotal;return h.a.createElement("div",null,h.a.createElement("div",{className:"toolbar"},h.a.createElement(c["a"],{type:"primary",icon:"rollback",onClick:()=>u["a"].goBack()},"\u8fd4\u56de"),h.a.createElement("img",{src:a("645o"),style:{margin:"0 20px 0 40px"},alt:""}),h.a.createElement("span",{className:"font-purple-color",style:{fontWeight:"bold"}},e),h.a.createElement("span",{className:"font-purple-color",style:{marginLeft:40}},"\u9500\u552e\u5bf9\u8d26\u660e\u7ec6\xa0\xa0\xa0\xa0",e," \u81f3 ",e),h.a.createElement("div",{style:{float:"right"}},h.a.createElement(c["a"],{type:"primary",style:{marginRight:10},onClick:()=>{window.location.href=`${y["c"]}/index/logistics/corder-export?id=${this.props.location.query.id}`}},"\u5168\u90e8\u5bfc\u51fa"),h.a.createElement(c["a"],{type:"primary",style:{marginRight:10},disabled:"61"!==this.props.location.query.status,onClick:this.confirmReconciliation.bind(null,this.props.location.query.id)},"\u786e\u8ba4\u5bf9\u8d26"),h.a.createElement(c["a"],{type:"primary",style:{marginRight:10},disabled:"1"===this.props.location.query.payment_status,onClick:this.payment.bind(null,this.props.location.query.id)},"\u786e\u8ba4\u4ed8\u6b3e"),h.a.createElement(c["a"],{type:"primary",onClick:this.billing.bind(null,this.props.location.query.id),disabled:"1"===this.props.location.query.invoice_status},"\u786e\u8ba4\u5f00\u7968"))),h.a.createElement("div",{style:{padding:"0px 24px 60px"}},h.a.createElement("div",{style:{textAlign:"right",margin:"20px 0px"}},h.a.createElement("span",{style:{marginRight:10}},"\u5bf9\u8d26\u65f6\u95f4"),h.a.createElement(r["a"],{disabledDate:this.disabledStartDate,showTime:!0,format:"YYYY-MM-DD HH:mm",value:i,placeholder:"\u8d77\u59cb\u65f6\u95f4",onChange:this.onStartChange,onOpenChange:this.handleStartOpenChange}),h.a.createElement("span",{style:{margin:"0 10px"}},"-"),h.a.createElement(r["a"],{disabledDate:this.disabledEndDate,showTime:!0,format:"YYYY-MM-DD HH:mm",value:l,placeholder:"\u622a\u6b62\u65f6\u95f4",onChange:this.onEndChange,open:n,onOpenChange:this.handleEndOpenChange}),h.a.createElement("span",{style:{margin:"0 12px 0 20px"}},"\u8f66\u724c"),h.a.createElement(p["a"],{defaultValue:"jack",style:{width:"8.75rem"}},h.a.createElement(E,{value:"jack"},"\u9500\u552e\u989d"),h.a.createElement(E,{value:"lucy"},"\u5229\u6da6\u8d21\u732e"),h.a.createElement(E,{value:"Yiminghe"},"\u8d21\u732e\u5360\u6bd4")),h.a.createElement("span",{style:{margin:"0 12px 0 20px"}},"\u6c14\u6e90"),h.a.createElement(p["a"],{defaultValue:"jack",style:{width:"8.75rem"}},h.a.createElement(E,{value:"jack"},"\u9500\u552e\u989d"),h.a.createElement(E,{value:"lucy"},"\u5229\u6da6\u8d21\u732e"),h.a.createElement(E,{value:"Yiminghe"},"\u8d21\u732e\u5360\u6bd4")),h.a.createElement("span",{style:{margin:"0 12px 0 20px"}},"\u7ad9\u70b9"),h.a.createElement(p["a"],{defaultValue:"jack",style:{width:"8.75rem"}},h.a.createElement(E,{value:"jack"},"\u9500\u552e\u989d"),h.a.createElement(E,{value:"lucy"},"\u5229\u6da6\u8d21\u732e"),h.a.createElement(E,{value:"Yiminghe"},"\u8d21\u732e\u5360\u6bd4")),h.a.createElement("span",{style:{margin:"0 12px 0 20px"}},"\u72b6\u6001"),h.a.createElement(p["a"],{defaultValue:"",style:{width:"8.75rem"}},h.a.createElement(E,{value:"",style:{color:"#7B7B7B"}},"\u5168\u90e8"),h.a.createElement(E,{value:"1",style:{color:"#FFAD4D"}},"\u5bf9\u8d26\u4e2d"),h.a.createElement(E,{value:"2",style:{color:"#8FCBFF"}},"\u5df2\u5bf9\u8d26"),h.a.createElement(E,{value:"3",style:{color:"#91A5F5"}},"\u5df2\u5f00\u7968"))),h.a.createElement("div",{className:"table-container"},h.a.createElement(o["a"],{columns:g["b"],dataSource:C,loading:v,pagination:!1,rowKey:e=>e.id,highLightColor:"#aaa",rowClassName:(e,t)=>{return t%2===0?"oddRow":"evenRow"}})),h.a.createElement("div",{style:{textAlign:"center",marginTop:40}},h.a.createElement(s["a"],{defaultCurrent:f,total:b,onChange:this.pageChange}))))}},l=n))||l);t["default"]=v}}]);